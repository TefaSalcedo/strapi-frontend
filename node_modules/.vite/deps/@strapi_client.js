import {
  __commonJS,
  __toESM
} from "./chunk-5WRI5ZAA.js";

// node_modules/ms/index.js
var require_ms = __commonJS({
  "node_modules/ms/index.js"(exports, module) {
    var s2 = 1e3;
    var m2 = s2 * 60;
    var h2 = m2 * 60;
    var d2 = h2 * 24;
    var w2 = d2 * 7;
    var y2 = d2 * 365.25;
    module.exports = function(val, options) {
      options = options || {};
      var type = typeof val;
      if (type === "string" && val.length > 0) {
        return parse(val);
      } else if (type === "number" && isFinite(val)) {
        return options.long ? fmtLong(val) : fmtShort(val);
      }
      throw new Error(
        "val is not a non-empty string or a valid number. val=" + JSON.stringify(val)
      );
    };
    function parse(str) {
      str = String(str);
      if (str.length > 100) {
        return;
      }
      var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
        str
      );
      if (!match) {
        return;
      }
      var n2 = parseFloat(match[1]);
      var type = (match[2] || "ms").toLowerCase();
      switch (type) {
        case "years":
        case "year":
        case "yrs":
        case "yr":
        case "y":
          return n2 * y2;
        case "weeks":
        case "week":
        case "w":
          return n2 * w2;
        case "days":
        case "day":
        case "d":
          return n2 * d2;
        case "hours":
        case "hour":
        case "hrs":
        case "hr":
        case "h":
          return n2 * h2;
        case "minutes":
        case "minute":
        case "mins":
        case "min":
        case "m":
          return n2 * m2;
        case "seconds":
        case "second":
        case "secs":
        case "sec":
        case "s":
          return n2 * s2;
        case "milliseconds":
        case "millisecond":
        case "msecs":
        case "msec":
        case "ms":
          return n2;
        default:
          return void 0;
      }
    }
    function fmtShort(ms) {
      var msAbs = Math.abs(ms);
      if (msAbs >= d2) {
        return Math.round(ms / d2) + "d";
      }
      if (msAbs >= h2) {
        return Math.round(ms / h2) + "h";
      }
      if (msAbs >= m2) {
        return Math.round(ms / m2) + "m";
      }
      if (msAbs >= s2) {
        return Math.round(ms / s2) + "s";
      }
      return ms + "ms";
    }
    function fmtLong(ms) {
      var msAbs = Math.abs(ms);
      if (msAbs >= d2) {
        return plural(ms, msAbs, d2, "day");
      }
      if (msAbs >= h2) {
        return plural(ms, msAbs, h2, "hour");
      }
      if (msAbs >= m2) {
        return plural(ms, msAbs, m2, "minute");
      }
      if (msAbs >= s2) {
        return plural(ms, msAbs, s2, "second");
      }
      return ms + " ms";
    }
    function plural(ms, msAbs, n2, name) {
      var isPlural = msAbs >= n2 * 1.5;
      return Math.round(ms / n2) + " " + name + (isPlural ? "s" : "");
    }
  }
});

// node_modules/debug/src/common.js
var require_common = __commonJS({
  "node_modules/debug/src/common.js"(exports, module) {
    function setup(env) {
      createDebug.debug = createDebug;
      createDebug.default = createDebug;
      createDebug.coerce = coerce;
      createDebug.disable = disable;
      createDebug.enable = enable;
      createDebug.enabled = enabled;
      createDebug.humanize = require_ms();
      createDebug.destroy = destroy;
      Object.keys(env).forEach((key) => {
        createDebug[key] = env[key];
      });
      createDebug.names = [];
      createDebug.skips = [];
      createDebug.formatters = {};
      function selectColor(namespace) {
        let hash = 0;
        for (let i2 = 0; i2 < namespace.length; i2++) {
          hash = (hash << 5) - hash + namespace.charCodeAt(i2);
          hash |= 0;
        }
        return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
      }
      createDebug.selectColor = selectColor;
      function createDebug(namespace) {
        let prevTime;
        let enableOverride = null;
        let namespacesCache;
        let enabledCache;
        function debug(...args) {
          if (!debug.enabled) {
            return;
          }
          const self2 = debug;
          const curr = Number(/* @__PURE__ */ new Date());
          const ms = curr - (prevTime || curr);
          self2.diff = ms;
          self2.prev = prevTime;
          self2.curr = curr;
          prevTime = curr;
          args[0] = createDebug.coerce(args[0]);
          if (typeof args[0] !== "string") {
            args.unshift("%O");
          }
          let index = 0;
          args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
            if (match === "%%") {
              return "%";
            }
            index++;
            const formatter = createDebug.formatters[format];
            if (typeof formatter === "function") {
              const val = args[index];
              match = formatter.call(self2, val);
              args.splice(index, 1);
              index--;
            }
            return match;
          });
          createDebug.formatArgs.call(self2, args);
          const logFn = self2.log || createDebug.log;
          logFn.apply(self2, args);
        }
        debug.namespace = namespace;
        debug.useColors = createDebug.useColors();
        debug.color = createDebug.selectColor(namespace);
        debug.extend = extend;
        debug.destroy = createDebug.destroy;
        Object.defineProperty(debug, "enabled", {
          enumerable: true,
          configurable: false,
          get: () => {
            if (enableOverride !== null) {
              return enableOverride;
            }
            if (namespacesCache !== createDebug.namespaces) {
              namespacesCache = createDebug.namespaces;
              enabledCache = createDebug.enabled(namespace);
            }
            return enabledCache;
          },
          set: (v2) => {
            enableOverride = v2;
          }
        });
        if (typeof createDebug.init === "function") {
          createDebug.init(debug);
        }
        return debug;
      }
      function extend(namespace, delimiter) {
        const newDebug = createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
        newDebug.log = this.log;
        return newDebug;
      }
      function enable(namespaces) {
        createDebug.save(namespaces);
        createDebug.namespaces = namespaces;
        createDebug.names = [];
        createDebug.skips = [];
        const split = (typeof namespaces === "string" ? namespaces : "").trim().replace(" ", ",").split(",").filter(Boolean);
        for (const ns of split) {
          if (ns[0] === "-") {
            createDebug.skips.push(ns.slice(1));
          } else {
            createDebug.names.push(ns);
          }
        }
      }
      function matchesTemplate(search, template) {
        let searchIndex = 0;
        let templateIndex = 0;
        let starIndex = -1;
        let matchIndex = 0;
        while (searchIndex < search.length) {
          if (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === "*")) {
            if (template[templateIndex] === "*") {
              starIndex = templateIndex;
              matchIndex = searchIndex;
              templateIndex++;
            } else {
              searchIndex++;
              templateIndex++;
            }
          } else if (starIndex !== -1) {
            templateIndex = starIndex + 1;
            matchIndex++;
            searchIndex = matchIndex;
          } else {
            return false;
          }
        }
        while (templateIndex < template.length && template[templateIndex] === "*") {
          templateIndex++;
        }
        return templateIndex === template.length;
      }
      function disable() {
        const namespaces = [
          ...createDebug.names,
          ...createDebug.skips.map((namespace) => "-" + namespace)
        ].join(",");
        createDebug.enable("");
        return namespaces;
      }
      function enabled(name) {
        for (const skip of createDebug.skips) {
          if (matchesTemplate(name, skip)) {
            return false;
          }
        }
        for (const ns of createDebug.names) {
          if (matchesTemplate(name, ns)) {
            return true;
          }
        }
        return false;
      }
      function coerce(val) {
        if (val instanceof Error) {
          return val.stack || val.message;
        }
        return val;
      }
      function destroy() {
        console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
      }
      createDebug.enable(createDebug.load());
      return createDebug;
    }
    module.exports = setup;
  }
});

// node_modules/debug/src/browser.js
var require_browser = __commonJS({
  "node_modules/debug/src/browser.js"(exports, module) {
    exports.formatArgs = formatArgs;
    exports.save = save;
    exports.load = load;
    exports.useColors = useColors;
    exports.storage = localstorage();
    exports.destroy = /* @__PURE__ */ (() => {
      let warned = false;
      return () => {
        if (!warned) {
          warned = true;
          console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
        }
      };
    })();
    exports.colors = [
      "#0000CC",
      "#0000FF",
      "#0033CC",
      "#0033FF",
      "#0066CC",
      "#0066FF",
      "#0099CC",
      "#0099FF",
      "#00CC00",
      "#00CC33",
      "#00CC66",
      "#00CC99",
      "#00CCCC",
      "#00CCFF",
      "#3300CC",
      "#3300FF",
      "#3333CC",
      "#3333FF",
      "#3366CC",
      "#3366FF",
      "#3399CC",
      "#3399FF",
      "#33CC00",
      "#33CC33",
      "#33CC66",
      "#33CC99",
      "#33CCCC",
      "#33CCFF",
      "#6600CC",
      "#6600FF",
      "#6633CC",
      "#6633FF",
      "#66CC00",
      "#66CC33",
      "#9900CC",
      "#9900FF",
      "#9933CC",
      "#9933FF",
      "#99CC00",
      "#99CC33",
      "#CC0000",
      "#CC0033",
      "#CC0066",
      "#CC0099",
      "#CC00CC",
      "#CC00FF",
      "#CC3300",
      "#CC3333",
      "#CC3366",
      "#CC3399",
      "#CC33CC",
      "#CC33FF",
      "#CC6600",
      "#CC6633",
      "#CC9900",
      "#CC9933",
      "#CCCC00",
      "#CCCC33",
      "#FF0000",
      "#FF0033",
      "#FF0066",
      "#FF0099",
      "#FF00CC",
      "#FF00FF",
      "#FF3300",
      "#FF3333",
      "#FF3366",
      "#FF3399",
      "#FF33CC",
      "#FF33FF",
      "#FF6600",
      "#FF6633",
      "#FF9900",
      "#FF9933",
      "#FFCC00",
      "#FFCC33"
    ];
    function useColors() {
      if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
        return true;
      }
      if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
        return false;
      }
      let m2;
      return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
      typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
      // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
      typeof navigator !== "undefined" && navigator.userAgent && (m2 = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(m2[1], 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
      typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
    }
    function formatArgs(args) {
      args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module.exports.humanize(this.diff);
      if (!this.useColors) {
        return;
      }
      const c2 = "color: " + this.color;
      args.splice(1, 0, c2, "color: inherit");
      let index = 0;
      let lastC = 0;
      args[0].replace(/%[a-zA-Z%]/g, (match) => {
        if (match === "%%") {
          return;
        }
        index++;
        if (match === "%c") {
          lastC = index;
        }
      });
      args.splice(lastC, 0, c2);
    }
    exports.log = console.debug || console.log || (() => {
    });
    function save(namespaces) {
      try {
        if (namespaces) {
          exports.storage.setItem("debug", namespaces);
        } else {
          exports.storage.removeItem("debug");
        }
      } catch (error) {
      }
    }
    function load() {
      let r2;
      try {
        r2 = exports.storage.getItem("debug");
      } catch (error) {
      }
      if (!r2 && typeof process !== "undefined" && "env" in process) {
        r2 = process.env.DEBUG;
      }
      return r2;
    }
    function localstorage() {
      try {
        return localStorage;
      } catch (error) {
      }
    }
    module.exports = require_common()(exports);
    var { formatters } = module.exports;
    formatters.j = function(v2) {
      try {
        return JSON.stringify(v2);
      } catch (error) {
        return "[UnexpectedJSONParseError]: " + error.message;
      }
    };
  }
});

// node_modules/@strapi/client/dist/bundle.browser.mjs
var import_debug = __toESM(require_browser(), 1);
var e = class {
  _options;
  constructor(t2) {
    this._options = t2, this.preflightValidation();
  }
};
var r = class extends Error {
  constructor(t2 = void 0, e2 = "An error occurred in the Strapi client. Please check the logs for more information.") {
    super(e2), this.cause = t2;
  }
};
var n = class extends r {
  constructor(t2 = void 0, e2 = "Some of the provided values are not valid.") {
    super(t2, e2);
  }
};
var o = class extends r {
  constructor(t2 = void 0, e2 = "Could not initialize the Strapi Client") {
    super(t2, e2);
  }
};
var i = class extends Error {
};
var a = class extends i {
  constructor(t2) {
    super(`Could not parse invalid URL: "${t2}"`);
  }
};
var s = class extends Error {
  name = "HTTPError";
  response;
  request;
  constructor(t2, e2) {
    const r2 = `${t2.status?.toString() ?? ""} ${t2.statusText ?? ""}`.trim();
    super(`Request failed with ${r2 ? `status code ${r2}` : "an unknown error"}: ${e2.method} ${e2.url}`), this.response = t2, this.request = e2;
  }
};
var c = class extends s {
  name = "HTTPAuthorizationError";
};
var u = class extends s {
  name = "HTTPNotFoundError";
};
var l = class extends s {
  name = "HTTPBadRequestError";
};
var p = class extends s {
  name = "HTTPInternalServerError";
};
var f = class extends s {
  name = "HTTPForbiddenError";
};
var y = class extends s {
  name = "HTTPTimeoutError";
};
var d = (0, import_debug.default)("strapi:auth:provider:api-token");
var h = class _h extends e {
  static identifier = "api-token";
  constructor(t2) {
    super(t2);
  }
  get name() {
    return _h.identifier;
  }
  get _token() {
    return this._options.token;
  }
  preflightValidation() {
    if (d("validating provider configuration"), "string" != typeof this._token || 0 === this._token.trim().length) throw d("invalid api token provided: %o (%o)", this._token, typeof this._token), new n(`A valid API token is required when using the api-token auth strategy. Got "${this._token}"`);
    d("provider configuration validated successfully");
  }
  authenticate() {
    return d("no authentication step is required for the %o auth strategy, skipping", this.name), Promise.resolve();
  }
  get headers() {
    return { Authorization: `Bearer ${this._token}` };
  }
};
var g = (0, import_debug.default)("strapi:auth:provider:users-permissions");
var m = "/auth/local";
var b = class _b extends e {
  static identifier = "users-permissions";
  _token = null;
  constructor(t2) {
    super(t2);
  }
  get name() {
    return _b.identifier;
  }
  get _credentials() {
    return { identifier: this._options.identifier, password: this._options.password };
  }
  preflightValidation() {
    if (g("validating provider configuration"), void 0 === this._options || null === this._options || "object" != typeof this._options) throw g("invalid options provided: %s (%s)", this._options, typeof this._options), new n("Missing valid options for initializing the Users & Permissions auth provider.");
    const { identifier: t2, password: e2 } = this._options;
    if ("string" != typeof t2) throw g("invalid identifier provided: %s (%s)", t2, typeof t2), new n(`The "identifier" option must be a string, but got "${typeof t2}"`);
    if ("string" != typeof e2) throw g("invalid password provided: %s (%s)", e2, typeof e2), new n(`The "password" option must be a string, but got "${typeof e2}"`);
    g("provider configuration validated successfully");
  }
  get headers() {
    return null === this._token ? {} : { Authorization: `Bearer ${this._token}` };
  }
  async authenticate(t2) {
    const { identifier: e2, password: r2 } = this._credentials;
    g("trying to authenticate with %o as %o at %o ", this.name, e2, m);
    const n2 = await t2.post(m, JSON.stringify({ identifier: e2, password: r2 }), { headers: { "Content-Type": "application/json" } });
    if (!n2.ok) throw new Error(n2.statusText);
    const o2 = await n2.json(), i2 = o2.jwt.slice(0, 5) + "..." + o2.jwt.slice(-5);
    g("authentication successful for %o (%o)", e2, i2), this._token = o2.jwt;
  }
};
var w = (0, import_debug.default)("strapi:auth:factory");
var v = class {
  _registry = /* @__PURE__ */ new Map();
  create(t2, e2) {
    const n2 = this._registry.get(t2);
    if (!n2) throw w("the %o auth strategy is not registered, skipping", t2), new r(`Auth strategy "${t2}" is not supported.`);
    const o2 = n2(e2);
    return w("successfully instantiated a new %o provider", t2), o2;
  }
  register(t2, e2) {
    return this._registry.set(t2, e2), w("registered a new auth strategy: %o", t2), this;
  }
};
var _ = (0, import_debug.default)("strapi:auth:manager");
var S = class {
  _authProviderFactory;
  _authProvider;
  _isAuthenticated = false;
  constructor(t2 = new v()) {
    _("initializing a new auth manager"), this._authProviderFactory = t2, this.registerDefaultProviders();
  }
  get strategy() {
    return this._authProvider?.name;
  }
  get isAuthenticated() {
    return this._isAuthenticated;
  }
  handleUnauthorizedError() {
    _("unauthorized error encountered, resetting authentication status"), this._isAuthenticated = false;
  }
  setStrategy(t2, e2) {
    _("setting strategy to %o", t2), this._authProvider = this._authProviderFactory.create(t2, e2);
  }
  async authenticate(t2) {
    if (void 0 === this._authProvider) return _("no auth provider is set, skipping authentication"), void (this._isAuthenticated = false);
    try {
      _("trying to authenticate with %s", this._authProvider.name);
      const e2 = t2.create(void 0, false);
      await this._authProvider.authenticate(e2), this._isAuthenticated = true, _("authentication successful");
    } catch (t3) {
      _(`authentication failed: ${t3}`), this._isAuthenticated = false;
    }
  }
  authenticateRequest(t2) {
    if (!this._authProvider) return;
    const { headers: e2 } = t2;
    if (!(e2 instanceof Headers)) throw new Error(`Invalid request headers, headers must be an instance of Headers but found "${typeof e2}"`);
    for (const [t3, r2] of Object.entries(this._authProvider.headers)) e2.set(t3, r2);
  }
  registerDefaultProviders() {
    _("registering default authentication providers"), this._authProviderFactory.register(h.identifier, (t2) => new h(t2)).register(b.identifier, (t2) => new b(t2)), _("default authentication providers registered successfully");
  }
};
var A;
var E;
var O = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function P(t2) {
  return t2 && t2.__esModule && Object.prototype.hasOwnProperty.call(t2, "default") ? t2.default : t2;
}
function j(t2) {
  if (t2.__esModule) return t2;
  var e2 = t2.default;
  if ("function" == typeof e2) {
    var r2 = function t3() {
      return this instanceof t3 ? Reflect.construct(e2, arguments, this.constructor) : e2.apply(this, arguments);
    };
    r2.prototype = e2.prototype;
  } else r2 = {};
  return Object.defineProperty(r2, "__esModule", { value: true }), Object.keys(t2).forEach(function(e3) {
    var n2 = Object.getOwnPropertyDescriptor(t2, e3);
    Object.defineProperty(r2, e3, n2.get ? n2 : { enumerable: true, get: function() {
      return t2[e3];
    } });
  }), r2;
}
function R() {
  return E ? A : (E = 1, A = TypeError);
}
var T;
var x;
var I;
var D;
var U;
var N;
var k;
var F;
var L;
var C;
var M;
var $;
var q;
var B;
var H;
var W;
var z;
var V;
var Q;
var K;
var G;
var J;
var Z;
var Y;
var X;
var tt;
var et;
var rt;
var nt;
var ot;
var it;
var at;
var st;
var ct;
var ut;
var lt;
var pt;
var ft;
var yt;
var dt;
var ht;
var gt;
var mt;
var bt;
var wt;
var vt;
var _t;
var St;
var At;
var Et;
var Ot;
var Pt;
var jt;
var Rt;
var Tt;
var xt;
var It;
var Dt;
var Ut;
var Nt;
var kt;
var Ft;
var Lt;
var Ct;
var Mt;
var $t;
var qt;
var Bt;
var Ht;
var Wt;
var zt;
var Vt;
var Qt;
var Kt;
var Gt;
var Jt;
var Zt = j(Object.freeze({ __proto__: null, default: {} }));
function Yt() {
  if (x) return T;
  x = 1;
  var t2 = "function" == typeof Map && Map.prototype, e2 = Object.getOwnPropertyDescriptor && t2 ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null, r2 = t2 && e2 && "function" == typeof e2.get ? e2.get : null, n2 = t2 && Map.prototype.forEach, o2 = "function" == typeof Set && Set.prototype, i2 = Object.getOwnPropertyDescriptor && o2 ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null, a2 = o2 && i2 && "function" == typeof i2.get ? i2.get : null, s2 = o2 && Set.prototype.forEach, c2 = "function" == typeof WeakMap && WeakMap.prototype ? WeakMap.prototype.has : null, u2 = "function" == typeof WeakSet && WeakSet.prototype ? WeakSet.prototype.has : null, l2 = "function" == typeof WeakRef && WeakRef.prototype ? WeakRef.prototype.deref : null, p2 = Boolean.prototype.valueOf, f2 = Object.prototype.toString, y2 = Function.prototype.toString, d2 = String.prototype.match, h2 = String.prototype.slice, g2 = String.prototype.replace, m2 = String.prototype.toUpperCase, b2 = String.prototype.toLowerCase, w2 = RegExp.prototype.test, v2 = Array.prototype.concat, _2 = Array.prototype.join, S2 = Array.prototype.slice, A2 = Math.floor, E2 = "function" == typeof BigInt ? BigInt.prototype.valueOf : null, P2 = Object.getOwnPropertySymbols, j2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol.prototype.toString : null, R2 = "function" == typeof Symbol && "object" == typeof Symbol.iterator, I2 = "function" == typeof Symbol && Symbol.toStringTag && (typeof Symbol.toStringTag === R2 || "symbol") ? Symbol.toStringTag : null, D2 = Object.prototype.propertyIsEnumerable, U2 = ("function" == typeof Reflect ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(t3) {
    return t3.__proto__;
  } : null);
  function N2(t3, e3) {
    if (t3 === 1 / 0 || t3 === -1 / 0 || t3 != t3 || t3 && t3 > -1e3 && t3 < 1e3 || w2.call(/e/, e3)) return e3;
    var r3 = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
    if ("number" == typeof t3) {
      var n3 = t3 < 0 ? -A2(-t3) : A2(t3);
      if (n3 !== t3) {
        var o3 = String(n3), i3 = h2.call(e3, o3.length + 1);
        return g2.call(o3, r3, "$&_") + "." + g2.call(g2.call(i3, /([0-9]{3})/g, "$&_"), /_$/, "");
      }
    }
    return g2.call(e3, r3, "$&_");
  }
  var k2 = Zt, F2 = k2.custom, L2 = W2(F2) ? F2 : null, C2 = { __proto__: null, double: '"', single: "'" }, M2 = { __proto__: null, double: /(["\\])/g, single: /(['\\])/g };
  function $2(t3, e3, r3) {
    var n3 = r3.quoteStyle || e3, o3 = C2[n3];
    return o3 + t3 + o3;
  }
  function q2(t3) {
    return g2.call(String(t3), /"/g, "&quot;");
  }
  function B2(t3) {
    return !("[object Array]" !== Q2(t3) || I2 && "object" == typeof t3 && I2 in t3);
  }
  function H2(t3) {
    return !("[object RegExp]" !== Q2(t3) || I2 && "object" == typeof t3 && I2 in t3);
  }
  function W2(t3) {
    if (R2) return t3 && "object" == typeof t3 && t3 instanceof Symbol;
    if ("symbol" == typeof t3) return true;
    if (!t3 || "object" != typeof t3 || !j2) return false;
    try {
      return j2.call(t3), true;
    } catch (t4) {
    }
    return false;
  }
  T = function t3(e3, o3, i3, f3) {
    var m3 = o3 || {};
    if (V2(m3, "quoteStyle") && !V2(C2, m3.quoteStyle)) throw new TypeError('option "quoteStyle" must be "single" or "double"');
    if (V2(m3, "maxStringLength") && ("number" == typeof m3.maxStringLength ? m3.maxStringLength < 0 && m3.maxStringLength !== 1 / 0 : null !== m3.maxStringLength)) throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
    var w3 = !V2(m3, "customInspect") || m3.customInspect;
    if ("boolean" != typeof w3 && "symbol" !== w3) throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
    if (V2(m3, "indent") && null !== m3.indent && "	" !== m3.indent && !(parseInt(m3.indent, 10) === m3.indent && m3.indent > 0)) throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');
    if (V2(m3, "numericSeparator") && "boolean" != typeof m3.numericSeparator) throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
    var A3 = m3.numericSeparator;
    if (void 0 === e3) return "undefined";
    if (null === e3) return "null";
    if ("boolean" == typeof e3) return e3 ? "true" : "false";
    if ("string" == typeof e3) return G2(e3, m3);
    if ("number" == typeof e3) {
      if (0 === e3) return 1 / 0 / e3 > 0 ? "0" : "-0";
      var P3 = String(e3);
      return A3 ? N2(e3, P3) : P3;
    }
    if ("bigint" == typeof e3) {
      var T2 = String(e3) + "n";
      return A3 ? N2(e3, T2) : T2;
    }
    var x2 = void 0 === m3.depth ? 5 : m3.depth;
    if (void 0 === i3 && (i3 = 0), i3 >= x2 && x2 > 0 && "object" == typeof e3) return B2(e3) ? "[Array]" : "[Object]";
    var F3 = function(t4, e4) {
      var r3;
      if ("	" === t4.indent) r3 = "	";
      else {
        if (!("number" == typeof t4.indent && t4.indent > 0)) return null;
        r3 = _2.call(Array(t4.indent + 1), " ");
      }
      return { base: r3, prev: _2.call(Array(e4 + 1), r3) };
    }(m3, i3);
    if (void 0 === f3) f3 = [];
    else if (K2(f3, e3) >= 0) return "[Circular]";
    function M3(e4, r3, n3) {
      if (r3 && (f3 = S2.call(f3)).push(r3), n3) {
        var o4 = { depth: m3.depth };
        return V2(m3, "quoteStyle") && (o4.quoteStyle = m3.quoteStyle), t3(e4, o4, i3 + 1, f3);
      }
      return t3(e4, m3, i3 + 1, f3);
    }
    if ("function" == typeof e3 && !H2(e3)) {
      var z3 = function(t4) {
        if (t4.name) return t4.name;
        var e4 = d2.call(y2.call(t4), /^function\s*([\w$]+)/);
        if (e4) return e4[1];
        return null;
      }(e3), J3 = et2(e3, M3);
      return "[Function" + (z3 ? ": " + z3 : " (anonymous)") + "]" + (J3.length > 0 ? " { " + _2.call(J3, ", ") + " }" : "");
    }
    if (W2(e3)) {
      var rt2 = R2 ? g2.call(String(e3), /^(Symbol\(.*\))_[^)]*$/, "$1") : j2.call(e3);
      return "object" != typeof e3 || R2 ? rt2 : Z2(rt2);
    }
    if (function(t4) {
      if (!t4 || "object" != typeof t4) return false;
      if ("undefined" != typeof HTMLElement && t4 instanceof HTMLElement) return true;
      return "string" == typeof t4.nodeName && "function" == typeof t4.getAttribute;
    }(e3)) {
      for (var nt2 = "<" + b2.call(String(e3.nodeName)), ot2 = e3.attributes || [], it2 = 0; it2 < ot2.length; it2++) nt2 += " " + ot2[it2].name + "=" + $2(q2(ot2[it2].value), "double", m3);
      return nt2 += ">", e3.childNodes && e3.childNodes.length && (nt2 += "..."), nt2 += "</" + b2.call(String(e3.nodeName)) + ">";
    }
    if (B2(e3)) {
      if (0 === e3.length) return "[]";
      var at2 = et2(e3, M3);
      return F3 && !function(t4) {
        for (var e4 = 0; e4 < t4.length; e4++) if (K2(t4[e4], "\n") >= 0) return false;
        return true;
      }(at2) ? "[" + tt2(at2, F3) + "]" : "[ " + _2.call(at2, ", ") + " ]";
    }
    if (function(t4) {
      return !("[object Error]" !== Q2(t4) || I2 && "object" == typeof t4 && I2 in t4);
    }(e3)) {
      var st2 = et2(e3, M3);
      return "cause" in Error.prototype || !("cause" in e3) || D2.call(e3, "cause") ? 0 === st2.length ? "[" + String(e3) + "]" : "{ [" + String(e3) + "] " + _2.call(st2, ", ") + " }" : "{ [" + String(e3) + "] " + _2.call(v2.call("[cause]: " + M3(e3.cause), st2), ", ") + " }";
    }
    if ("object" == typeof e3 && w3) {
      if (L2 && "function" == typeof e3[L2] && k2) return k2(e3, { depth: x2 - i3 });
      if ("symbol" !== w3 && "function" == typeof e3.inspect) return e3.inspect();
    }
    if (function(t4) {
      if (!r2 || !t4 || "object" != typeof t4) return false;
      try {
        r2.call(t4);
        try {
          a2.call(t4);
        } catch (t5) {
          return true;
        }
        return t4 instanceof Map;
      } catch (t5) {
      }
      return false;
    }(e3)) {
      var ct2 = [];
      return n2 && n2.call(e3, function(t4, r3) {
        ct2.push(M3(r3, e3, true) + " => " + M3(t4, e3));
      }), X2("Map", r2.call(e3), ct2, F3);
    }
    if (function(t4) {
      if (!a2 || !t4 || "object" != typeof t4) return false;
      try {
        a2.call(t4);
        try {
          r2.call(t4);
        } catch (t5) {
          return true;
        }
        return t4 instanceof Set;
      } catch (t5) {
      }
      return false;
    }(e3)) {
      var ut2 = [];
      return s2 && s2.call(e3, function(t4) {
        ut2.push(M3(t4, e3));
      }), X2("Set", a2.call(e3), ut2, F3);
    }
    if (function(t4) {
      if (!c2 || !t4 || "object" != typeof t4) return false;
      try {
        c2.call(t4, c2);
        try {
          u2.call(t4, u2);
        } catch (t5) {
          return true;
        }
        return t4 instanceof WeakMap;
      } catch (t5) {
      }
      return false;
    }(e3)) return Y2("WeakMap");
    if (function(t4) {
      if (!u2 || !t4 || "object" != typeof t4) return false;
      try {
        u2.call(t4, u2);
        try {
          c2.call(t4, c2);
        } catch (t5) {
          return true;
        }
        return t4 instanceof WeakSet;
      } catch (t5) {
      }
      return false;
    }(e3)) return Y2("WeakSet");
    if (function(t4) {
      if (!l2 || !t4 || "object" != typeof t4) return false;
      try {
        return l2.call(t4), true;
      } catch (t5) {
      }
      return false;
    }(e3)) return Y2("WeakRef");
    if (function(t4) {
      return !("[object Number]" !== Q2(t4) || I2 && "object" == typeof t4 && I2 in t4);
    }(e3)) return Z2(M3(Number(e3)));
    if (function(t4) {
      if (!t4 || "object" != typeof t4 || !E2) return false;
      try {
        return E2.call(t4), true;
      } catch (t5) {
      }
      return false;
    }(e3)) return Z2(M3(E2.call(e3)));
    if (function(t4) {
      return !("[object Boolean]" !== Q2(t4) || I2 && "object" == typeof t4 && I2 in t4);
    }(e3)) return Z2(p2.call(e3));
    if (function(t4) {
      return !("[object String]" !== Q2(t4) || I2 && "object" == typeof t4 && I2 in t4);
    }(e3)) return Z2(M3(String(e3)));
    if ("undefined" != typeof window && e3 === window) return "{ [object Window] }";
    if ("undefined" != typeof globalThis && e3 === globalThis || void 0 !== O && e3 === O) return "{ [object globalThis] }";
    if (!function(t4) {
      return !("[object Date]" !== Q2(t4) || I2 && "object" == typeof t4 && I2 in t4);
    }(e3) && !H2(e3)) {
      var lt2 = et2(e3, M3), pt2 = U2 ? U2(e3) === Object.prototype : e3 instanceof Object || e3.constructor === Object, ft2 = e3 instanceof Object ? "" : "null prototype", yt2 = !pt2 && I2 && Object(e3) === e3 && I2 in e3 ? h2.call(Q2(e3), 8, -1) : ft2 ? "Object" : "", dt2 = (pt2 || "function" != typeof e3.constructor ? "" : e3.constructor.name ? e3.constructor.name + " " : "") + (yt2 || ft2 ? "[" + _2.call(v2.call([], yt2 || [], ft2 || []), ": ") + "] " : "");
      return 0 === lt2.length ? dt2 + "{}" : F3 ? dt2 + "{" + tt2(lt2, F3) + "}" : dt2 + "{ " + _2.call(lt2, ", ") + " }";
    }
    return String(e3);
  };
  var z2 = Object.prototype.hasOwnProperty || function(t3) {
    return t3 in this;
  };
  function V2(t3, e3) {
    return z2.call(t3, e3);
  }
  function Q2(t3) {
    return f2.call(t3);
  }
  function K2(t3, e3) {
    if (t3.indexOf) return t3.indexOf(e3);
    for (var r3 = 0, n3 = t3.length; r3 < n3; r3++) if (t3[r3] === e3) return r3;
    return -1;
  }
  function G2(t3, e3) {
    if (t3.length > e3.maxStringLength) {
      var r3 = t3.length - e3.maxStringLength, n3 = "... " + r3 + " more character" + (r3 > 1 ? "s" : "");
      return G2(h2.call(t3, 0, e3.maxStringLength), e3) + n3;
    }
    var o3 = M2[e3.quoteStyle || "single"];
    return o3.lastIndex = 0, $2(g2.call(g2.call(t3, o3, "\\$1"), /[\x00-\x1f]/g, J2), "single", e3);
  }
  function J2(t3) {
    var e3 = t3.charCodeAt(0), r3 = { 8: "b", 9: "t", 10: "n", 12: "f", 13: "r" }[e3];
    return r3 ? "\\" + r3 : "\\x" + (e3 < 16 ? "0" : "") + m2.call(e3.toString(16));
  }
  function Z2(t3) {
    return "Object(" + t3 + ")";
  }
  function Y2(t3) {
    return t3 + " { ? }";
  }
  function X2(t3, e3, r3, n3) {
    return t3 + " (" + e3 + ") {" + (n3 ? tt2(r3, n3) : _2.call(r3, ", ")) + "}";
  }
  function tt2(t3, e3) {
    if (0 === t3.length) return "";
    var r3 = "\n" + e3.prev + e3.base;
    return r3 + _2.call(t3, "," + r3) + "\n" + e3.prev;
  }
  function et2(t3, e3) {
    var r3 = B2(t3), n3 = [];
    if (r3) {
      n3.length = t3.length;
      for (var o3 = 0; o3 < t3.length; o3++) n3[o3] = V2(t3, o3) ? e3(t3[o3], t3) : "";
    }
    var i3, a3 = "function" == typeof P2 ? P2(t3) : [];
    if (R2) {
      i3 = {};
      for (var s3 = 0; s3 < a3.length; s3++) i3["$" + a3[s3]] = a3[s3];
    }
    for (var c3 in t3) V2(t3, c3) && (r3 && String(Number(c3)) === c3 && c3 < t3.length || R2 && i3["$" + c3] instanceof Symbol || (w2.call(/[^\w$]/, c3) ? n3.push(e3(c3, t3) + ": " + e3(t3[c3], t3)) : n3.push(c3 + ": " + e3(t3[c3], t3))));
    if ("function" == typeof P2) for (var u3 = 0; u3 < a3.length; u3++) D2.call(t3, a3[u3]) && n3.push("[" + e3(a3[u3]) + "]: " + e3(t3[a3[u3]], t3));
    return n3;
  }
  return T;
}
function Xt() {
  if (D) return I;
  D = 1;
  var t2 = Yt(), e2 = R(), r2 = function(t3, e3, r3) {
    for (var n2, o2 = t3; null != (n2 = o2.next); o2 = n2) if (n2.key === e3) return o2.next = n2.next, r3 || (n2.next = t3.next, t3.next = n2), n2;
  };
  return I = function() {
    var n2, o2 = { assert: function(r3) {
      if (!o2.has(r3)) throw new e2("Side channel does not contain " + t2(r3));
    }, delete: function(t3) {
      var e3 = n2 && n2.next, o3 = function(t4, e4) {
        if (t4) return r2(t4, e4, true);
      }(n2, t3);
      return o3 && e3 && e3 === o3 && (n2 = void 0), !!o3;
    }, get: function(t3) {
      return function(t4, e3) {
        if (t4) {
          var n3 = r2(t4, e3);
          return n3 && n3.value;
        }
      }(n2, t3);
    }, has: function(t3) {
      return function(t4, e3) {
        return !!t4 && !!r2(t4, e3);
      }(n2, t3);
    }, set: function(t3, e3) {
      n2 || (n2 = { next: void 0 }), function(t4, e4, n3) {
        var o3 = r2(t4, e4);
        o3 ? o3.value = n3 : t4.next = { key: e4, next: t4.next, value: n3 };
      }(n2, t3, e3);
    } };
    return o2;
  };
}
function te() {
  return N ? U : (N = 1, U = Object);
}
function ee() {
  return F ? k : (F = 1, k = Error);
}
function re() {
  return C ? L : (C = 1, L = EvalError);
}
function ne() {
  return $ ? M : ($ = 1, M = RangeError);
}
function oe() {
  return B ? q : (B = 1, q = ReferenceError);
}
function ie() {
  return W ? H : (W = 1, H = SyntaxError);
}
function ae() {
  return V ? z : (V = 1, z = URIError);
}
function se() {
  return K ? Q : (K = 1, Q = Math.abs);
}
function ce() {
  return J ? G : (J = 1, G = Math.floor);
}
function ue() {
  return Y ? Z : (Y = 1, Z = Math.max);
}
function le() {
  return tt ? X : (tt = 1, X = Math.min);
}
function pe() {
  return rt ? et : (rt = 1, et = Math.pow);
}
function fe() {
  return ot ? nt : (ot = 1, nt = Object.getOwnPropertyDescriptor);
}
function ye() {
  if (at) return it;
  at = 1;
  var t2 = fe();
  if (t2) try {
    t2([], "length");
  } catch (e2) {
    t2 = null;
  }
  return it = t2;
}
function de() {
  if (ct) return st;
  ct = 1;
  var t2 = Object.defineProperty || false;
  if (t2) try {
    t2({}, "a", { value: 1 });
  } catch (e2) {
    t2 = false;
  }
  return st = t2;
}
function he() {
  if (ft) return pt;
  ft = 1;
  var t2 = "undefined" != typeof Symbol && Symbol, e2 = lt ? ut : (lt = 1, ut = function() {
    if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols) return false;
    if ("symbol" == typeof Symbol.iterator) return true;
    var t3 = {}, e3 = Symbol("test"), r2 = Object(e3);
    if ("string" == typeof e3) return false;
    if ("[object Symbol]" !== Object.prototype.toString.call(e3)) return false;
    if ("[object Symbol]" !== Object.prototype.toString.call(r2)) return false;
    for (var n2 in t3[e3] = 42, t3) return false;
    if ("function" == typeof Object.keys && 0 !== Object.keys(t3).length) return false;
    if ("function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(t3).length) return false;
    var o2 = Object.getOwnPropertySymbols(t3);
    if (1 !== o2.length || o2[0] !== e3) return false;
    if (!Object.prototype.propertyIsEnumerable.call(t3, e3)) return false;
    if ("function" == typeof Object.getOwnPropertyDescriptor) {
      var i2 = Object.getOwnPropertyDescriptor(t3, e3);
      if (42 !== i2.value || true !== i2.enumerable) return false;
    }
    return true;
  });
  return pt = function() {
    return "function" == typeof t2 && ("function" == typeof Symbol && ("symbol" == typeof t2("foo") && ("symbol" == typeof Symbol("bar") && e2())));
  };
}
function ge() {
  if (dt) return yt;
  dt = 1;
  var t2 = Object.prototype.toString, e2 = Math.max, r2 = function(t3, e3) {
    for (var r3 = [], n2 = 0; n2 < t3.length; n2 += 1) r3[n2] = t3[n2];
    for (var o2 = 0; o2 < e3.length; o2 += 1) r3[o2 + t3.length] = e3[o2];
    return r3;
  };
  return yt = function(n2) {
    var o2 = this;
    if ("function" != typeof o2 || "[object Function]" !== t2.apply(o2)) throw new TypeError("Function.prototype.bind called on incompatible " + o2);
    for (var i2, a2 = function(t3, e3) {
      for (var r3 = [], n3 = e3, o3 = 0; n3 < t3.length; n3 += 1, o3 += 1) r3[o3] = t3[n3];
      return r3;
    }(arguments, 1), s2 = e2(0, o2.length - a2.length), c2 = [], u2 = 0; u2 < s2; u2++) c2[u2] = "$" + u2;
    if (i2 = Function("binder", "return function (" + function(t3, e3) {
      for (var r3 = "", n3 = 0; n3 < t3.length; n3 += 1) r3 += t3[n3], n3 + 1 < t3.length && (r3 += e3);
      return r3;
    }(c2, ",") + "){ return binder.apply(this,arguments); }")(function() {
      if (this instanceof i2) {
        var t3 = o2.apply(this, r2(a2, arguments));
        return Object(t3) === t3 ? t3 : this;
      }
      return o2.apply(n2, r2(a2, arguments));
    }), o2.prototype) {
      var l2 = function() {
      };
      l2.prototype = o2.prototype, i2.prototype = new l2(), l2.prototype = null;
    }
    return i2;
  }, yt;
}
function me() {
  if (gt) return ht;
  gt = 1;
  var t2 = ge();
  return ht = Function.prototype.bind || t2;
}
function be() {
  return bt ? mt : (bt = 1, mt = Function.prototype.call);
}
function we() {
  return vt ? wt : (vt = 1, wt = Function.prototype.apply);
}
function ve() {
  if (Et) return At;
  Et = 1;
  var t2 = me(), e2 = we(), r2 = be(), n2 = St ? _t : (St = 1, _t = "undefined" != typeof Reflect && Reflect && Reflect.apply);
  return At = n2 || t2.call(r2, e2);
}
function _e() {
  if (Pt) return Ot;
  Pt = 1;
  var t2 = me(), e2 = R(), r2 = be(), n2 = ve();
  return Ot = function(o2) {
    if (o2.length < 1 || "function" != typeof o2[0]) throw new e2("a function is required");
    return n2(t2, r2, o2);
  };
}
function Se() {
  if (Rt) return jt;
  Rt = 1;
  var t2, e2 = _e(), r2 = ye();
  try {
    t2 = [].__proto__ === Array.prototype;
  } catch (t3) {
    if (!t3 || "object" != typeof t3 || !("code" in t3) || "ERR_PROTO_ACCESS" !== t3.code) throw t3;
  }
  var n2 = !!t2 && r2 && r2(Object.prototype, "__proto__"), o2 = Object, i2 = o2.getPrototypeOf;
  return jt = n2 && "function" == typeof n2.get ? e2([n2.get]) : "function" == typeof i2 && function(t3) {
    return i2(null == t3 ? t3 : o2(t3));
  };
}
function Ae() {
  if (xt) return Tt;
  xt = 1;
  var t2 = Function.prototype.call, e2 = Object.prototype.hasOwnProperty, r2 = me();
  return Tt = r2.call(t2, e2);
}
function Ee() {
  if (Dt) return It;
  var t2;
  Dt = 1;
  var e2 = te(), r2 = ee(), n2 = re(), o2 = ne(), i2 = oe(), a2 = ie(), s2 = R(), c2 = ae(), u2 = se(), l2 = ce(), p2 = ue(), f2 = le(), y2 = pe(), d2 = Function, h2 = function(t3) {
    try {
      return d2('"use strict"; return (' + t3 + ").constructor;")();
    } catch (t4) {
    }
  }, g2 = ye(), m2 = de(), b2 = function() {
    throw new s2();
  }, w2 = g2 ? function() {
    try {
      return b2;
    } catch (t3) {
      try {
        return g2(arguments, "callee").get;
      } catch (t4) {
        return b2;
      }
    }
  }() : b2, v2 = he()(), _2 = Se(), S2 = "function" == typeof Reflect && Reflect.getPrototypeOf || e2.getPrototypeOf || _2, A2 = we(), E2 = be(), O2 = {}, P2 = "undefined" != typeof Uint8Array && S2 ? S2(Uint8Array) : t2, j2 = { __proto__: null, "%AggregateError%": "undefined" == typeof AggregateError ? t2 : AggregateError, "%Array%": Array, "%ArrayBuffer%": "undefined" == typeof ArrayBuffer ? t2 : ArrayBuffer, "%ArrayIteratorPrototype%": v2 && S2 ? S2([][Symbol.iterator]()) : t2, "%AsyncFromSyncIteratorPrototype%": t2, "%AsyncFunction%": O2, "%AsyncGenerator%": O2, "%AsyncGeneratorFunction%": O2, "%AsyncIteratorPrototype%": O2, "%Atomics%": "undefined" == typeof Atomics ? t2 : Atomics, "%BigInt%": "undefined" == typeof BigInt ? t2 : BigInt, "%BigInt64Array%": "undefined" == typeof BigInt64Array ? t2 : BigInt64Array, "%BigUint64Array%": "undefined" == typeof BigUint64Array ? t2 : BigUint64Array, "%Boolean%": Boolean, "%DataView%": "undefined" == typeof DataView ? t2 : DataView, "%Date%": Date, "%decodeURI%": decodeURI, "%decodeURIComponent%": decodeURIComponent, "%encodeURI%": encodeURI, "%encodeURIComponent%": encodeURIComponent, "%Error%": r2, "%eval%": eval, "%EvalError%": n2, "%Float32Array%": "undefined" == typeof Float32Array ? t2 : Float32Array, "%Float64Array%": "undefined" == typeof Float64Array ? t2 : Float64Array, "%FinalizationRegistry%": "undefined" == typeof FinalizationRegistry ? t2 : FinalizationRegistry, "%Function%": d2, "%GeneratorFunction%": O2, "%Int8Array%": "undefined" == typeof Int8Array ? t2 : Int8Array, "%Int16Array%": "undefined" == typeof Int16Array ? t2 : Int16Array, "%Int32Array%": "undefined" == typeof Int32Array ? t2 : Int32Array, "%isFinite%": isFinite, "%isNaN%": isNaN, "%IteratorPrototype%": v2 && S2 ? S2(S2([][Symbol.iterator]())) : t2, "%JSON%": "object" == typeof JSON ? JSON : t2, "%Map%": "undefined" == typeof Map ? t2 : Map, "%MapIteratorPrototype%": "undefined" != typeof Map && v2 && S2 ? S2((/* @__PURE__ */ new Map())[Symbol.iterator]()) : t2, "%Math%": Math, "%Number%": Number, "%Object%": e2, "%Object.getOwnPropertyDescriptor%": g2, "%parseFloat%": parseFloat, "%parseInt%": parseInt, "%Promise%": "undefined" == typeof Promise ? t2 : Promise, "%Proxy%": "undefined" == typeof Proxy ? t2 : Proxy, "%RangeError%": o2, "%ReferenceError%": i2, "%Reflect%": "undefined" == typeof Reflect ? t2 : Reflect, "%RegExp%": RegExp, "%Set%": "undefined" == typeof Set ? t2 : Set, "%SetIteratorPrototype%": "undefined" != typeof Set && v2 && S2 ? S2((/* @__PURE__ */ new Set())[Symbol.iterator]()) : t2, "%SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? t2 : SharedArrayBuffer, "%String%": String, "%StringIteratorPrototype%": v2 && S2 ? S2(""[Symbol.iterator]()) : t2, "%Symbol%": v2 ? Symbol : t2, "%SyntaxError%": a2, "%ThrowTypeError%": w2, "%TypedArray%": P2, "%TypeError%": s2, "%Uint8Array%": "undefined" == typeof Uint8Array ? t2 : Uint8Array, "%Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? t2 : Uint8ClampedArray, "%Uint16Array%": "undefined" == typeof Uint16Array ? t2 : Uint16Array, "%Uint32Array%": "undefined" == typeof Uint32Array ? t2 : Uint32Array, "%URIError%": c2, "%WeakMap%": "undefined" == typeof WeakMap ? t2 : WeakMap, "%WeakRef%": "undefined" == typeof WeakRef ? t2 : WeakRef, "%WeakSet%": "undefined" == typeof WeakSet ? t2 : WeakSet, "%Function.prototype.call%": E2, "%Function.prototype.apply%": A2, "%Object.defineProperty%": m2, "%Math.abs%": u2, "%Math.floor%": l2, "%Math.max%": p2, "%Math.min%": f2, "%Math.pow%": y2 };
  if (S2) try {
    null.error;
  } catch (t3) {
    var T2 = S2(S2(t3));
    j2["%Error.prototype%"] = T2;
  }
  var x2 = function t3(e3) {
    var r3;
    if ("%AsyncFunction%" === e3) r3 = h2("async function () {}");
    else if ("%GeneratorFunction%" === e3) r3 = h2("function* () {}");
    else if ("%AsyncGeneratorFunction%" === e3) r3 = h2("async function* () {}");
    else if ("%AsyncGenerator%" === e3) {
      var n3 = t3("%AsyncGeneratorFunction%");
      n3 && (r3 = n3.prototype);
    } else if ("%AsyncIteratorPrototype%" === e3) {
      var o3 = t3("%AsyncGenerator%");
      o3 && S2 && (r3 = S2(o3.prototype));
    }
    return j2[e3] = r3, r3;
  }, I2 = { __proto__: null, "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"], "%ArrayPrototype%": ["Array", "prototype"], "%ArrayProto_entries%": ["Array", "prototype", "entries"], "%ArrayProto_forEach%": ["Array", "prototype", "forEach"], "%ArrayProto_keys%": ["Array", "prototype", "keys"], "%ArrayProto_values%": ["Array", "prototype", "values"], "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"], "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"], "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"], "%BooleanPrototype%": ["Boolean", "prototype"], "%DataViewPrototype%": ["DataView", "prototype"], "%DatePrototype%": ["Date", "prototype"], "%ErrorPrototype%": ["Error", "prototype"], "%EvalErrorPrototype%": ["EvalError", "prototype"], "%Float32ArrayPrototype%": ["Float32Array", "prototype"], "%Float64ArrayPrototype%": ["Float64Array", "prototype"], "%FunctionPrototype%": ["Function", "prototype"], "%Generator%": ["GeneratorFunction", "prototype"], "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"], "%Int8ArrayPrototype%": ["Int8Array", "prototype"], "%Int16ArrayPrototype%": ["Int16Array", "prototype"], "%Int32ArrayPrototype%": ["Int32Array", "prototype"], "%JSONParse%": ["JSON", "parse"], "%JSONStringify%": ["JSON", "stringify"], "%MapPrototype%": ["Map", "prototype"], "%NumberPrototype%": ["Number", "prototype"], "%ObjectPrototype%": ["Object", "prototype"], "%ObjProto_toString%": ["Object", "prototype", "toString"], "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"], "%PromisePrototype%": ["Promise", "prototype"], "%PromiseProto_then%": ["Promise", "prototype", "then"], "%Promise_all%": ["Promise", "all"], "%Promise_reject%": ["Promise", "reject"], "%Promise_resolve%": ["Promise", "resolve"], "%RangeErrorPrototype%": ["RangeError", "prototype"], "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"], "%RegExpPrototype%": ["RegExp", "prototype"], "%SetPrototype%": ["Set", "prototype"], "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"], "%StringPrototype%": ["String", "prototype"], "%SymbolPrototype%": ["Symbol", "prototype"], "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"], "%TypedArrayPrototype%": ["TypedArray", "prototype"], "%TypeErrorPrototype%": ["TypeError", "prototype"], "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"], "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"], "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"], "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"], "%URIErrorPrototype%": ["URIError", "prototype"], "%WeakMapPrototype%": ["WeakMap", "prototype"], "%WeakSetPrototype%": ["WeakSet", "prototype"] }, D2 = me(), U2 = Ae(), N2 = D2.call(E2, Array.prototype.concat), k2 = D2.call(A2, Array.prototype.splice), F2 = D2.call(E2, String.prototype.replace), L2 = D2.call(E2, String.prototype.slice), C2 = D2.call(E2, RegExp.prototype.exec), M2 = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g, $2 = /\\(\\)?/g, q2 = function(t3, e3) {
    var r3, n3 = t3;
    if (U2(I2, n3) && (n3 = "%" + (r3 = I2[n3])[0] + "%"), U2(j2, n3)) {
      var o3 = j2[n3];
      if (o3 === O2 && (o3 = x2(n3)), void 0 === o3 && !e3) throw new s2("intrinsic " + t3 + " exists, but is not available. Please file an issue!");
      return { alias: r3, name: n3, value: o3 };
    }
    throw new a2("intrinsic " + t3 + " does not exist!");
  };
  return It = function(t3, e3) {
    if ("string" != typeof t3 || 0 === t3.length) throw new s2("intrinsic name must be a non-empty string");
    if (arguments.length > 1 && "boolean" != typeof e3) throw new s2('"allowMissing" argument must be a boolean');
    if (null === C2(/^%?[^%]*%?$/, t3)) throw new a2("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
    var r3 = function(t4) {
      var e4 = L2(t4, 0, 1), r4 = L2(t4, -1);
      if ("%" === e4 && "%" !== r4) throw new a2("invalid intrinsic syntax, expected closing `%`");
      if ("%" === r4 && "%" !== e4) throw new a2("invalid intrinsic syntax, expected opening `%`");
      var n4 = [];
      return F2(t4, M2, function(t5, e5, r5, o4) {
        n4[n4.length] = r5 ? F2(o4, $2, "$1") : e5 || t5;
      }), n4;
    }(t3), n3 = r3.length > 0 ? r3[0] : "", o3 = q2("%" + n3 + "%", e3), i3 = o3.name, c3 = o3.value, u3 = false, l3 = o3.alias;
    l3 && (n3 = l3[0], k2(r3, N2([0, 1], l3)));
    for (var p3 = 1, f3 = true; p3 < r3.length; p3 += 1) {
      var y3 = r3[p3], d3 = L2(y3, 0, 1), h3 = L2(y3, -1);
      if (('"' === d3 || "'" === d3 || "`" === d3 || '"' === h3 || "'" === h3 || "`" === h3) && d3 !== h3) throw new a2("property names with quotes must have matching quotes");
      if ("constructor" !== y3 && f3 || (u3 = true), U2(j2, i3 = "%" + (n3 += "." + y3) + "%")) c3 = j2[i3];
      else if (null != c3) {
        if (!(y3 in c3)) {
          if (!e3) throw new s2("base intrinsic for " + t3 + " exists, but the property is not available.");
          return;
        }
        if (g2 && p3 + 1 >= r3.length) {
          var m3 = g2(c3, y3);
          c3 = (f3 = !!m3) && "get" in m3 && !("originalValue" in m3.get) ? m3.get : c3[y3];
        } else f3 = U2(c3, y3), c3 = c3[y3];
        f3 && !u3 && (j2[i3] = c3);
      }
    }
    return c3;
  }, It;
}
function Oe() {
  if (Nt) return Ut;
  Nt = 1;
  var t2 = Ee(), e2 = _e(), r2 = e2([t2("%String.prototype.indexOf%")]);
  return Ut = function(n2, o2) {
    var i2 = t2(n2, !!o2);
    return "function" == typeof i2 && r2(n2, ".prototype.") > -1 ? e2([i2]) : i2;
  };
}
function Pe() {
  if (Ft) return kt;
  Ft = 1;
  var t2 = Ee(), e2 = Oe(), r2 = Yt(), n2 = R(), o2 = t2("%Map%", true), i2 = e2("Map.prototype.get", true), a2 = e2("Map.prototype.set", true), s2 = e2("Map.prototype.has", true), c2 = e2("Map.prototype.delete", true), u2 = e2("Map.prototype.size", true);
  return kt = !!o2 && function() {
    var t3, e3 = { assert: function(t4) {
      if (!e3.has(t4)) throw new n2("Side channel does not contain " + r2(t4));
    }, delete: function(e4) {
      if (t3) {
        var r3 = c2(t3, e4);
        return 0 === u2(t3) && (t3 = void 0), r3;
      }
      return false;
    }, get: function(e4) {
      if (t3) return i2(t3, e4);
    }, has: function(e4) {
      return !!t3 && s2(t3, e4);
    }, set: function(e4, r3) {
      t3 || (t3 = new o2()), a2(t3, e4, r3);
    } };
    return e3;
  };
}
function je() {
  if ($t) return Mt;
  $t = 1;
  var t2 = R(), e2 = Yt(), r2 = Xt(), n2 = Pe(), o2 = function() {
    if (Ct) return Lt;
    Ct = 1;
    var t3 = Ee(), e3 = Oe(), r3 = Yt(), n3 = Pe(), o3 = R(), i3 = t3("%WeakMap%", true), a2 = e3("WeakMap.prototype.get", true), s2 = e3("WeakMap.prototype.set", true), c2 = e3("WeakMap.prototype.has", true), u2 = e3("WeakMap.prototype.delete", true);
    return Lt = i3 ? function() {
      var t4, e4, l2 = { assert: function(t5) {
        if (!l2.has(t5)) throw new o3("Side channel does not contain " + r3(t5));
      }, delete: function(r4) {
        if (i3 && r4 && ("object" == typeof r4 || "function" == typeof r4)) {
          if (t4) return u2(t4, r4);
        } else if (n3 && e4) return e4.delete(r4);
        return false;
      }, get: function(r4) {
        return i3 && r4 && ("object" == typeof r4 || "function" == typeof r4) && t4 ? a2(t4, r4) : e4 && e4.get(r4);
      }, has: function(r4) {
        return i3 && r4 && ("object" == typeof r4 || "function" == typeof r4) && t4 ? c2(t4, r4) : !!e4 && e4.has(r4);
      }, set: function(r4, o4) {
        i3 && r4 && ("object" == typeof r4 || "function" == typeof r4) ? (t4 || (t4 = new i3()), s2(t4, r4, o4)) : n3 && (e4 || (e4 = n3()), e4.set(r4, o4));
      } };
      return l2;
    } : n3;
  }(), i2 = o2 || n2 || r2;
  return Mt = function() {
    var r3, n3 = { assert: function(r4) {
      if (!n3.has(r4)) throw new t2("Side channel does not contain " + e2(r4));
    }, delete: function(t3) {
      return !!r3 && r3.delete(t3);
    }, get: function(t3) {
      return r3 && r3.get(t3);
    }, has: function(t3) {
      return !!r3 && r3.has(t3);
    }, set: function(t3, e3) {
      r3 || (r3 = i2()), r3.set(t3, e3);
    } };
    return n3;
  };
}
function Re() {
  if (Bt) return qt;
  Bt = 1;
  var t2 = String.prototype.replace, e2 = /%20/g, r2 = "RFC3986";
  return qt = { default: r2, formatters: { RFC1738: function(r3) {
    return t2.call(r3, e2, "+");
  }, RFC3986: function(t3) {
    return String(t3);
  } }, RFC1738: "RFC1738", RFC3986: r2 };
}
function Te() {
  if (Wt) return Ht;
  Wt = 1;
  var t2 = Re(), e2 = Object.prototype.hasOwnProperty, r2 = Array.isArray, n2 = function() {
    for (var t3 = [], e3 = 0; e3 < 256; ++e3) t3.push("%" + ((e3 < 16 ? "0" : "") + e3.toString(16)).toUpperCase());
    return t3;
  }(), o2 = function(t3, e3) {
    for (var r3 = e3 && e3.plainObjects ? { __proto__: null } : {}, n3 = 0; n3 < t3.length; ++n3) void 0 !== t3[n3] && (r3[n3] = t3[n3]);
    return r3;
  }, i2 = 1024;
  return Ht = { arrayToObject: o2, assign: function(t3, e3) {
    return Object.keys(e3).reduce(function(t4, r3) {
      return t4[r3] = e3[r3], t4;
    }, t3);
  }, combine: function(t3, e3) {
    return [].concat(t3, e3);
  }, compact: function(t3) {
    for (var e3 = [{ obj: { o: t3 }, prop: "o" }], n3 = [], o3 = 0; o3 < e3.length; ++o3) for (var i3 = e3[o3], a2 = i3.obj[i3.prop], s2 = Object.keys(a2), c2 = 0; c2 < s2.length; ++c2) {
      var u2 = s2[c2], l2 = a2[u2];
      "object" == typeof l2 && null !== l2 && -1 === n3.indexOf(l2) && (e3.push({ obj: a2, prop: u2 }), n3.push(l2));
    }
    return function(t4) {
      for (; t4.length > 1; ) {
        var e4 = t4.pop(), n4 = e4.obj[e4.prop];
        if (r2(n4)) {
          for (var o4 = [], i4 = 0; i4 < n4.length; ++i4) void 0 !== n4[i4] && o4.push(n4[i4]);
          e4.obj[e4.prop] = o4;
        }
      }
    }(e3), t3;
  }, decode: function(t3, e3, r3) {
    var n3 = t3.replace(/\+/g, " ");
    if ("iso-8859-1" === r3) return n3.replace(/%[0-9a-f]{2}/gi, unescape);
    try {
      return decodeURIComponent(n3);
    } catch (t4) {
      return n3;
    }
  }, encode: function(e3, r3, o3, a2, s2) {
    if (0 === e3.length) return e3;
    var c2 = e3;
    if ("symbol" == typeof e3 ? c2 = Symbol.prototype.toString.call(e3) : "string" != typeof e3 && (c2 = String(e3)), "iso-8859-1" === o3) return escape(c2).replace(/%u[0-9a-f]{4}/gi, function(t3) {
      return "%26%23" + parseInt(t3.slice(2), 16) + "%3B";
    });
    for (var u2 = "", l2 = 0; l2 < c2.length; l2 += i2) {
      for (var p2 = c2.length >= i2 ? c2.slice(l2, l2 + i2) : c2, f2 = [], y2 = 0; y2 < p2.length; ++y2) {
        var d2 = p2.charCodeAt(y2);
        45 === d2 || 46 === d2 || 95 === d2 || 126 === d2 || d2 >= 48 && d2 <= 57 || d2 >= 65 && d2 <= 90 || d2 >= 97 && d2 <= 122 || s2 === t2.RFC1738 && (40 === d2 || 41 === d2) ? f2[f2.length] = p2.charAt(y2) : d2 < 128 ? f2[f2.length] = n2[d2] : d2 < 2048 ? f2[f2.length] = n2[192 | d2 >> 6] + n2[128 | 63 & d2] : d2 < 55296 || d2 >= 57344 ? f2[f2.length] = n2[224 | d2 >> 12] + n2[128 | d2 >> 6 & 63] + n2[128 | 63 & d2] : (y2 += 1, d2 = 65536 + ((1023 & d2) << 10 | 1023 & p2.charCodeAt(y2)), f2[f2.length] = n2[240 | d2 >> 18] + n2[128 | d2 >> 12 & 63] + n2[128 | d2 >> 6 & 63] + n2[128 | 63 & d2]);
      }
      u2 += f2.join("");
    }
    return u2;
  }, isBuffer: function(t3) {
    return !(!t3 || "object" != typeof t3) && !!(t3.constructor && t3.constructor.isBuffer && t3.constructor.isBuffer(t3));
  }, isRegExp: function(t3) {
    return "[object RegExp]" === Object.prototype.toString.call(t3);
  }, maybeMap: function(t3, e3) {
    if (r2(t3)) {
      for (var n3 = [], o3 = 0; o3 < t3.length; o3 += 1) n3.push(e3(t3[o3]));
      return n3;
    }
    return e3(t3);
  }, merge: function t3(n3, i3, a2) {
    if (!i3) return n3;
    if ("object" != typeof i3 && "function" != typeof i3) {
      if (r2(n3)) n3.push(i3);
      else {
        if (!n3 || "object" != typeof n3) return [n3, i3];
        (a2 && (a2.plainObjects || a2.allowPrototypes) || !e2.call(Object.prototype, i3)) && (n3[i3] = true);
      }
      return n3;
    }
    if (!n3 || "object" != typeof n3) return [n3].concat(i3);
    var s2 = n3;
    return r2(n3) && !r2(i3) && (s2 = o2(n3, a2)), r2(n3) && r2(i3) ? (i3.forEach(function(r3, o3) {
      if (e2.call(n3, o3)) {
        var i4 = n3[o3];
        i4 && "object" == typeof i4 && r3 && "object" == typeof r3 ? n3[o3] = t3(i4, r3, a2) : n3.push(r3);
      } else n3[o3] = r3;
    }), n3) : Object.keys(i3).reduce(function(r3, n4) {
      var o3 = i3[n4];
      return e2.call(r3, n4) ? r3[n4] = t3(r3[n4], o3, a2) : r3[n4] = o3, r3;
    }, s2);
  } }, Ht;
}
function xe() {
  if (Vt) return zt;
  Vt = 1;
  var t2 = je(), e2 = Te(), r2 = Re(), n2 = Object.prototype.hasOwnProperty, o2 = { brackets: function(t3) {
    return t3 + "[]";
  }, comma: "comma", indices: function(t3, e3) {
    return t3 + "[" + e3 + "]";
  }, repeat: function(t3) {
    return t3;
  } }, i2 = Array.isArray, a2 = Array.prototype.push, s2 = function(t3, e3) {
    a2.apply(t3, i2(e3) ? e3 : [e3]);
  }, c2 = Date.prototype.toISOString, u2 = r2.default, l2 = { addQueryPrefix: false, allowDots: false, allowEmptyArrays: false, arrayFormat: "indices", charset: "utf-8", charsetSentinel: false, commaRoundTrip: false, delimiter: "&", encode: true, encodeDotInKeys: false, encoder: e2.encode, encodeValuesOnly: false, filter: void 0, format: u2, formatter: r2.formatters[u2], indices: false, serializeDate: function(t3) {
    return c2.call(t3);
  }, skipNulls: false, strictNullHandling: false }, p2 = {}, f2 = function r3(n3, o3, a3, c3, u3, f3, y2, d2, h2, g2, m2, b2, w2, v2, _2, S2, A2, E2) {
    for (var O2, P2 = n3, j2 = E2, R2 = 0, T2 = false; void 0 !== (j2 = j2.get(p2)) && !T2; ) {
      var x2 = j2.get(n3);
      if (R2 += 1, void 0 !== x2) {
        if (x2 === R2) throw new RangeError("Cyclic object value");
        T2 = true;
      }
      void 0 === j2.get(p2) && (R2 = 0);
    }
    if ("function" == typeof g2 ? P2 = g2(o3, P2) : P2 instanceof Date ? P2 = w2(P2) : "comma" === a3 && i2(P2) && (P2 = e2.maybeMap(P2, function(t3) {
      return t3 instanceof Date ? w2(t3) : t3;
    })), null === P2) {
      if (f3) return h2 && !S2 ? h2(o3, l2.encoder, A2, "key", v2) : o3;
      P2 = "";
    }
    if ("string" == typeof (O2 = P2) || "number" == typeof O2 || "boolean" == typeof O2 || "symbol" == typeof O2 || "bigint" == typeof O2 || e2.isBuffer(P2)) return h2 ? [_2(S2 ? o3 : h2(o3, l2.encoder, A2, "key", v2)) + "=" + _2(h2(P2, l2.encoder, A2, "value", v2))] : [_2(o3) + "=" + _2(String(P2))];
    var I2, D2 = [];
    if (void 0 === P2) return D2;
    if ("comma" === a3 && i2(P2)) S2 && h2 && (P2 = e2.maybeMap(P2, h2)), I2 = [{ value: P2.length > 0 ? P2.join(",") || null : void 0 }];
    else if (i2(g2)) I2 = g2;
    else {
      var U2 = Object.keys(P2);
      I2 = m2 ? U2.sort(m2) : U2;
    }
    var N2 = d2 ? String(o3).replace(/\./g, "%2E") : String(o3), k2 = c3 && i2(P2) && 1 === P2.length ? N2 + "[]" : N2;
    if (u3 && i2(P2) && 0 === P2.length) return k2 + "[]";
    for (var F2 = 0; F2 < I2.length; ++F2) {
      var L2 = I2[F2], C2 = "object" == typeof L2 && L2 && void 0 !== L2.value ? L2.value : P2[L2];
      if (!y2 || null !== C2) {
        var M2 = b2 && d2 ? String(L2).replace(/\./g, "%2E") : String(L2), $2 = i2(P2) ? "function" == typeof a3 ? a3(k2, M2) : k2 : k2 + (b2 ? "." + M2 : "[" + M2 + "]");
        E2.set(n3, R2);
        var q2 = t2();
        q2.set(p2, E2), s2(D2, r3(C2, $2, a3, c3, u3, f3, y2, d2, "comma" === a3 && S2 && i2(P2) ? null : h2, g2, m2, b2, w2, v2, _2, S2, A2, q2));
      }
    }
    return D2;
  };
  return zt = function(e3, a3) {
    var c3, u3 = e3, p3 = function(t3) {
      if (!t3) return l2;
      if (void 0 !== t3.allowEmptyArrays && "boolean" != typeof t3.allowEmptyArrays) throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");
      if (void 0 !== t3.encodeDotInKeys && "boolean" != typeof t3.encodeDotInKeys) throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");
      if (null !== t3.encoder && void 0 !== t3.encoder && "function" != typeof t3.encoder) throw new TypeError("Encoder has to be a function.");
      var e4 = t3.charset || l2.charset;
      if (void 0 !== t3.charset && "utf-8" !== t3.charset && "iso-8859-1" !== t3.charset) throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      var a4 = r2.default;
      if (void 0 !== t3.format) {
        if (!n2.call(r2.formatters, t3.format)) throw new TypeError("Unknown format option provided.");
        a4 = t3.format;
      }
      var s3, c4 = r2.formatters[a4], u4 = l2.filter;
      if (("function" == typeof t3.filter || i2(t3.filter)) && (u4 = t3.filter), s3 = t3.arrayFormat in o2 ? t3.arrayFormat : "indices" in t3 ? t3.indices ? "indices" : "repeat" : l2.arrayFormat, "commaRoundTrip" in t3 && "boolean" != typeof t3.commaRoundTrip) throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
      var p4 = void 0 === t3.allowDots ? true === t3.encodeDotInKeys || l2.allowDots : !!t3.allowDots;
      return { addQueryPrefix: "boolean" == typeof t3.addQueryPrefix ? t3.addQueryPrefix : l2.addQueryPrefix, allowDots: p4, allowEmptyArrays: "boolean" == typeof t3.allowEmptyArrays ? !!t3.allowEmptyArrays : l2.allowEmptyArrays, arrayFormat: s3, charset: e4, charsetSentinel: "boolean" == typeof t3.charsetSentinel ? t3.charsetSentinel : l2.charsetSentinel, commaRoundTrip: !!t3.commaRoundTrip, delimiter: void 0 === t3.delimiter ? l2.delimiter : t3.delimiter, encode: "boolean" == typeof t3.encode ? t3.encode : l2.encode, encodeDotInKeys: "boolean" == typeof t3.encodeDotInKeys ? t3.encodeDotInKeys : l2.encodeDotInKeys, encoder: "function" == typeof t3.encoder ? t3.encoder : l2.encoder, encodeValuesOnly: "boolean" == typeof t3.encodeValuesOnly ? t3.encodeValuesOnly : l2.encodeValuesOnly, filter: u4, format: a4, formatter: c4, serializeDate: "function" == typeof t3.serializeDate ? t3.serializeDate : l2.serializeDate, skipNulls: "boolean" == typeof t3.skipNulls ? t3.skipNulls : l2.skipNulls, sort: "function" == typeof t3.sort ? t3.sort : null, strictNullHandling: "boolean" == typeof t3.strictNullHandling ? t3.strictNullHandling : l2.strictNullHandling };
    }(a3);
    "function" == typeof p3.filter ? u3 = (0, p3.filter)("", u3) : i2(p3.filter) && (c3 = p3.filter);
    var y2 = [];
    if ("object" != typeof u3 || null === u3) return "";
    var d2 = o2[p3.arrayFormat], h2 = "comma" === d2 && p3.commaRoundTrip;
    c3 || (c3 = Object.keys(u3)), p3.sort && c3.sort(p3.sort);
    for (var g2 = t2(), m2 = 0; m2 < c3.length; ++m2) {
      var b2 = c3[m2], w2 = u3[b2];
      p3.skipNulls && null === w2 || s2(y2, f2(w2, b2, d2, h2, p3.allowEmptyArrays, p3.strictNullHandling, p3.skipNulls, p3.encodeDotInKeys, p3.encode ? p3.encoder : null, p3.filter, p3.sort, p3.allowDots, p3.serializeDate, p3.format, p3.formatter, p3.encodeValuesOnly, p3.charset, g2));
    }
    var v2 = y2.join(p3.delimiter), _2 = true === p3.addQueryPrefix ? "?" : "";
    return p3.charsetSentinel && ("iso-8859-1" === p3.charset ? _2 += "utf8=%26%2310003%3B&" : _2 += "utf8=%E2%9C%93&"), v2.length > 0 ? _2 + v2 : "";
  }, zt;
}
function Ie() {
  if (Kt) return Qt;
  Kt = 1;
  var t2 = Te(), e2 = Object.prototype.hasOwnProperty, r2 = Array.isArray, n2 = { allowDots: false, allowEmptyArrays: false, allowPrototypes: false, allowSparse: false, arrayLimit: 20, charset: "utf-8", charsetSentinel: false, comma: false, decodeDotInKeys: false, decoder: t2.decode, delimiter: "&", depth: 5, duplicates: "combine", ignoreQueryPrefix: false, interpretNumericEntities: false, parameterLimit: 1e3, parseArrays: true, plainObjects: false, strictDepth: false, strictNullHandling: false, throwOnLimitExceeded: false }, o2 = function(t3) {
    return t3.replace(/&#(\d+);/g, function(t4, e3) {
      return String.fromCharCode(parseInt(e3, 10));
    });
  }, i2 = function(t3, e3, r3) {
    if (t3 && "string" == typeof t3 && e3.comma && t3.indexOf(",") > -1) return t3.split(",");
    if (e3.throwOnLimitExceeded && r3 >= e3.arrayLimit) throw new RangeError("Array limit exceeded. Only " + e3.arrayLimit + " element" + (1 === e3.arrayLimit ? "" : "s") + " allowed in an array.");
    return t3;
  }, a2 = function(r3, n3, o3, a3) {
    if (r3) {
      var s2 = o3.allowDots ? r3.replace(/\.([^.[]+)/g, "[$1]") : r3, c2 = /(\[[^[\]]*])/g, u2 = o3.depth > 0 && /(\[[^[\]]*])/.exec(s2), l2 = u2 ? s2.slice(0, u2.index) : s2, p2 = [];
      if (l2) {
        if (!o3.plainObjects && e2.call(Object.prototype, l2) && !o3.allowPrototypes) return;
        p2.push(l2);
      }
      for (var f2 = 0; o3.depth > 0 && null !== (u2 = c2.exec(s2)) && f2 < o3.depth; ) {
        if (f2 += 1, !o3.plainObjects && e2.call(Object.prototype, u2[1].slice(1, -1)) && !o3.allowPrototypes) return;
        p2.push(u2[1]);
      }
      if (u2) {
        if (true === o3.strictDepth) throw new RangeError("Input depth exceeded depth option of " + o3.depth + " and strictDepth is true");
        p2.push("[" + s2.slice(u2.index) + "]");
      }
      return function(e3, r4, n4, o4) {
        var a4 = 0;
        if (e3.length > 0 && "[]" === e3[e3.length - 1]) {
          var s3 = e3.slice(0, -1).join("");
          a4 = Array.isArray(r4) && r4[s3] ? r4[s3].length : 0;
        }
        for (var c3 = o4 ? r4 : i2(r4, n4, a4), u3 = e3.length - 1; u3 >= 0; --u3) {
          var l3, p3 = e3[u3];
          if ("[]" === p3 && n4.parseArrays) l3 = n4.allowEmptyArrays && ("" === c3 || n4.strictNullHandling && null === c3) ? [] : t2.combine([], c3);
          else {
            l3 = n4.plainObjects ? { __proto__: null } : {};
            var f3 = "[" === p3.charAt(0) && "]" === p3.charAt(p3.length - 1) ? p3.slice(1, -1) : p3, y2 = n4.decodeDotInKeys ? f3.replace(/%2E/g, ".") : f3, d2 = parseInt(y2, 10);
            n4.parseArrays || "" !== y2 ? !isNaN(d2) && p3 !== y2 && String(d2) === y2 && d2 >= 0 && n4.parseArrays && d2 <= n4.arrayLimit ? (l3 = [])[d2] = c3 : "__proto__" !== y2 && (l3[y2] = c3) : l3 = { 0: c3 };
          }
          c3 = l3;
        }
        return c3;
      }(p2, n3, o3, a3);
    }
  };
  return Qt = function(s2, c2) {
    var u2 = function(e3) {
      if (!e3) return n2;
      if (void 0 !== e3.allowEmptyArrays && "boolean" != typeof e3.allowEmptyArrays) throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");
      if (void 0 !== e3.decodeDotInKeys && "boolean" != typeof e3.decodeDotInKeys) throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");
      if (null !== e3.decoder && void 0 !== e3.decoder && "function" != typeof e3.decoder) throw new TypeError("Decoder has to be a function.");
      if (void 0 !== e3.charset && "utf-8" !== e3.charset && "iso-8859-1" !== e3.charset) throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      if (void 0 !== e3.throwOnLimitExceeded && "boolean" != typeof e3.throwOnLimitExceeded) throw new TypeError("`throwOnLimitExceeded` option must be a boolean");
      var r3 = void 0 === e3.charset ? n2.charset : e3.charset, o3 = void 0 === e3.duplicates ? n2.duplicates : e3.duplicates;
      if ("combine" !== o3 && "first" !== o3 && "last" !== o3) throw new TypeError("The duplicates option must be either combine, first, or last");
      return { allowDots: void 0 === e3.allowDots ? true === e3.decodeDotInKeys || n2.allowDots : !!e3.allowDots, allowEmptyArrays: "boolean" == typeof e3.allowEmptyArrays ? !!e3.allowEmptyArrays : n2.allowEmptyArrays, allowPrototypes: "boolean" == typeof e3.allowPrototypes ? e3.allowPrototypes : n2.allowPrototypes, allowSparse: "boolean" == typeof e3.allowSparse ? e3.allowSparse : n2.allowSparse, arrayLimit: "number" == typeof e3.arrayLimit ? e3.arrayLimit : n2.arrayLimit, charset: r3, charsetSentinel: "boolean" == typeof e3.charsetSentinel ? e3.charsetSentinel : n2.charsetSentinel, comma: "boolean" == typeof e3.comma ? e3.comma : n2.comma, decodeDotInKeys: "boolean" == typeof e3.decodeDotInKeys ? e3.decodeDotInKeys : n2.decodeDotInKeys, decoder: "function" == typeof e3.decoder ? e3.decoder : n2.decoder, delimiter: "string" == typeof e3.delimiter || t2.isRegExp(e3.delimiter) ? e3.delimiter : n2.delimiter, depth: "number" == typeof e3.depth || false === e3.depth ? +e3.depth : n2.depth, duplicates: o3, ignoreQueryPrefix: true === e3.ignoreQueryPrefix, interpretNumericEntities: "boolean" == typeof e3.interpretNumericEntities ? e3.interpretNumericEntities : n2.interpretNumericEntities, parameterLimit: "number" == typeof e3.parameterLimit ? e3.parameterLimit : n2.parameterLimit, parseArrays: false !== e3.parseArrays, plainObjects: "boolean" == typeof e3.plainObjects ? e3.plainObjects : n2.plainObjects, strictDepth: "boolean" == typeof e3.strictDepth ? !!e3.strictDepth : n2.strictDepth, strictNullHandling: "boolean" == typeof e3.strictNullHandling ? e3.strictNullHandling : n2.strictNullHandling, throwOnLimitExceeded: "boolean" == typeof e3.throwOnLimitExceeded && e3.throwOnLimitExceeded };
    }(c2);
    if ("" === s2 || null == s2) return u2.plainObjects ? { __proto__: null } : {};
    for (var l2 = "string" == typeof s2 ? function(a3, s3) {
      var c3 = { __proto__: null }, u3 = s3.ignoreQueryPrefix ? a3.replace(/^\?/, "") : a3;
      u3 = u3.replace(/%5B/gi, "[").replace(/%5D/gi, "]");
      var l3 = s3.parameterLimit === 1 / 0 ? void 0 : s3.parameterLimit, p3 = u3.split(s3.delimiter, s3.throwOnLimitExceeded ? l3 + 1 : l3);
      if (s3.throwOnLimitExceeded && p3.length > l3) throw new RangeError("Parameter limit exceeded. Only " + l3 + " parameter" + (1 === l3 ? "" : "s") + " allowed.");
      var f3, y3 = -1, d3 = s3.charset;
      if (s3.charsetSentinel) for (f3 = 0; f3 < p3.length; ++f3) 0 === p3[f3].indexOf("utf8=") && ("utf8=%E2%9C%93" === p3[f3] ? d3 = "utf-8" : "utf8=%26%2310003%3B" === p3[f3] && (d3 = "iso-8859-1"), y3 = f3, f3 = p3.length);
      for (f3 = 0; f3 < p3.length; ++f3) if (f3 !== y3) {
        var h3, g2, m2 = p3[f3], b2 = m2.indexOf("]="), w2 = -1 === b2 ? m2.indexOf("=") : b2 + 1;
        -1 === w2 ? (h3 = s3.decoder(m2, n2.decoder, d3, "key"), g2 = s3.strictNullHandling ? null : "") : (h3 = s3.decoder(m2.slice(0, w2), n2.decoder, d3, "key"), g2 = t2.maybeMap(i2(m2.slice(w2 + 1), s3, r2(c3[h3]) ? c3[h3].length : 0), function(t3) {
          return s3.decoder(t3, n2.decoder, d3, "value");
        })), g2 && s3.interpretNumericEntities && "iso-8859-1" === d3 && (g2 = o2(String(g2))), m2.indexOf("[]=") > -1 && (g2 = r2(g2) ? [g2] : g2);
        var v2 = e2.call(c3, h3);
        v2 && "combine" === s3.duplicates ? c3[h3] = t2.combine(c3[h3], g2) : v2 && "last" !== s3.duplicates || (c3[h3] = g2);
      }
      return c3;
    }(s2, u2) : s2, p2 = u2.plainObjects ? { __proto__: null } : {}, f2 = Object.keys(l2), y2 = 0; y2 < f2.length; ++y2) {
      var d2 = f2[y2], h2 = a2(d2, l2[d2], u2, "string" == typeof s2);
      p2 = t2.merge(p2, h2, u2);
    }
    return true === u2.allowSparse ? p2 : t2.compact(p2);
  };
}
function De() {
  if (Jt) return Gt;
  Jt = 1;
  var t2 = xe(), e2 = Ie();
  return Gt = { formats: Re(), parse: e2, stringify: t2 };
}
var Ue = P(De());
var Ne = (0, import_debug.default)("strapi:utils:url-helper");
var ke = class _ke {
  static appendQueryParams(t2, e2) {
    if (Ne("appending query params to %o: %o", t2, e2), !e2) return Ne("no query params provided, returning original URL: %o", t2), t2;
    const r2 = _ke.stringifyQueryParams(e2);
    return r2 ? URL.canParse(t2) && new URL(t2).search ? `${t2}&${r2}` : `${t2}?${r2}` : (Ne("generated an empty query string, skipping..."), t2);
  }
  static stringifyQueryParams(t2) {
    return Ue.stringify(t2, { addQueryPrefix: false, allowEmptyArrays: true });
  }
  static toReadablePath(t2) {
    const e2 = t2 instanceof URL ? t2 : new URL(t2);
    return `${e2.origin}${e2.pathname}`;
  }
};
var Fe = class {
  static format(t2) {
    if (!(t2 instanceof Request)) throw new TypeError("Invalid input, expected a Request instance but found " + typeof t2);
    return `${t2.method} - ${ke.toReadablePath(t2.url)}`;
  }
};
var Le = class {
  _options;
  _httpClient;
  constructor(t2, e2) {
    this._options = t2, this._httpClient = e2;
  }
  get _resource() {
    return this._options.resource;
  }
  get _path() {
    return this._options.path;
  }
  get _rootPath() {
    return this._path ?? `/${this._resource}`;
  }
};
var Ce = (0, import_debug.default)("strapi:ct:single");
var Me = class extends Le {
  constructor(t2, e2) {
    super(t2, e2), Ce('initialized a new "single" manager with %o', t2);
  }
  async find(t2) {
    Ce("finding document for %o", this._resource);
    let e2 = this._rootPath;
    t2 && (e2 = ke.appendQueryParams(e2, t2));
    const r2 = await this._httpClient.get(e2);
    return Ce("the %o document has been fetched", this._resource), r2.json();
  }
  async update(t2, e2) {
    Ce("updating document for %o", this._resource);
    let r2 = this._rootPath;
    e2 && (r2 = ke.appendQueryParams(r2, e2));
    const n2 = await this._httpClient.put(r2, JSON.stringify({ data: t2 }), { headers: { "Content-Type": "application/json" } });
    return Ce("the %o document has been updated", this._resource), n2.json();
  }
  async delete(t2) {
    Ce("deleting document for %o", this._resource);
    let e2 = this._rootPath;
    t2 && (e2 = ke.appendQueryParams(e2, t2)), await this._httpClient.delete(e2), Ce("the %o document has been deleted", this._resource);
  }
};
var $e = (0, import_debug.default)("strapi:ct:collection");
var qe = class extends Le {
  constructor(t2, e2) {
    super(t2, e2), $e('initialized a new "collection" manager with %o', t2);
  }
  async find(t2) {
    $e("finding documents for %o", this._resource);
    let e2 = this._rootPath;
    t2 && (e2 = ke.appendQueryParams(e2, t2));
    const r2 = await this._httpClient.get(e2), n2 = await r2.json();
    return $e("found %o %o documents", Number(n2?.data?.length), this._resource), n2;
  }
  async findOne(t2, e2) {
    $e("finding a document for %o with id: %o", this._resource, t2);
    let r2 = `${this._rootPath}/${t2}`;
    e2 && (r2 = ke.appendQueryParams(r2, e2));
    const n2 = await this._httpClient.get(r2);
    return $e("found the %o document with document id %o", this._resource, t2), n2.json();
  }
  async create(t2, e2) {
    $e("creating a document for %o", this._resource);
    let r2 = this._rootPath;
    e2 && (r2 = ke.appendQueryParams(r2, e2));
    const n2 = await this._httpClient.post(r2, JSON.stringify({ data: t2 }), { headers: { "Content-Type": "application/json" } });
    return $e("created the %o document", this._resource), n2.json();
  }
  async update(t2, e2, r2) {
    $e("updating a document for %o with id: %o", this._resource, t2);
    let n2 = `${this._rootPath}/${t2}`;
    r2 && (n2 = ke.appendQueryParams(n2, r2));
    const o2 = await this._httpClient.put(n2, JSON.stringify({ data: e2 }), { headers: { "Content-Type": "application/json" } });
    return $e("updated the %o document with id %o", this._resource, t2), o2.json();
  }
  async delete(t2, e2) {
    $e("deleting a document for %o with id: %o", this._resource, t2);
    let r2 = `${this._rootPath}/${t2}`;
    e2 && (r2 = ke.appendQueryParams(r2, e2)), await this._httpClient.delete(r2), $e("deleted the %o document with id %o", this._resource, t2);
  }
};
var Be = class extends u {
  name = "FileNotFoundError";
  fileId;
  constructor(t2, e2) {
    super(e2.response, e2.request), this.fileId = t2, this.message = `File with ID ${t2} not found. The requested file may have been deleted or never existed.`;
  }
};
var He = class extends f {
  name = "FileForbiddenError";
  fileId;
  constructor(t2, e2) {
    super(t2.response, t2.request), this.fileId = e2, this.message = void 0 !== e2 ? `Access to file with ID ${e2} is forbidden. You may not have sufficient permissions.` : "Access to files is forbidden. You may not have sufficient permissions.";
  }
};
var We = class {
  static createMapper(t2) {
    return (e2) => e2 instanceof u ? void 0 !== t2 ? new Be(t2, e2) : e2 : e2 instanceof f ? new He(e2, t2) : e2;
  }
};
var ze = "/upload";
var Ve = (0, import_debug.default)("strapi:files");
var Qe = class {
  _httpClient;
  constructor(t2) {
    this._httpClient = t2, Ve("initialized files manager");
  }
  createFileHttpClient(t2) {
    const e2 = this._httpClient.create(), r2 = We.createMapper(t2);
    return e2.interceptors.response.use(void 0, (t3) => {
      if (t3 instanceof Error) throw r2(t3);
      throw t3;
    }), e2;
  }
  async find(t2) {
    Ve("finding files");
    try {
      let e2 = `${ze}/files`;
      t2 && (e2 = ke.appendQueryParams(e2, t2));
      const r2 = this.createFileHttpClient(), n2 = await r2.get(e2), o2 = await n2.json();
      return Ve("found %o files", Number(o2?.length)), o2;
    } catch (t3) {
      throw Ve("error finding files: %o", t3), t3;
    }
  }
  async findOne(t2) {
    Ve("finding file with ID %o", t2);
    const e2 = `${ze}/files/${t2}`, r2 = this.createFileHttpClient(t2);
    try {
      const n2 = await r2.get(e2), o2 = await n2.json();
      return Ve("found file with ID %o", t2), o2;
    } catch (e3) {
      throw Ve("error finding file with ID %o: %o", t2, e3), e3;
    }
  }
  async update(t2, e2) {
    Ve("updating file with ID %o with data %o", t2, e2);
    try {
      const r2 = `${ze}?id=${t2}`, n2 = this.createFileHttpClient(t2), o2 = new FormData();
      o2.append("fileInfo", JSON.stringify(e2));
      const i2 = await n2.post(r2, o2), a2 = await i2.json();
      return Ve("successfully updated file with ID %o", t2), a2;
    } catch (e3) {
      throw Ve("error updating file with ID %o: %o", t2, e3), e3;
    }
  }
  async delete(t2) {
    Ve("deleting file with ID %o", t2);
    try {
      const e2 = `${ze}/files/${t2}`, r2 = this.createFileHttpClient(t2), n2 = await r2.delete(e2), o2 = await n2.json();
      return Ve("successfully deleted file with ID %o", t2), o2;
    } catch (e2) {
      throw Ve("error deleting file with ID %o: %o", t2, e2), e2;
    }
  }
};
var Ke = { trailingSlashes: false, leadingSlashes: false };
var Ge = class _Ge {
  static format(t2, e2 = Ke) {
    return t2 = _Ge.formatTrailingSlashes(t2, e2.trailingSlashes), t2 = _Ge.formatLeadingSlashes(t2, e2.leadingSlashes);
  }
  static formatTrailingSlashes(t2, e2 = Ke.trailingSlashes) {
    return "single" === e2 ? _Ge.ensureSingleTrailingSlash(t2) : e2 ? t2 : _Ge.removeTrailingSlashes(t2);
  }
  static removeTrailingSlashes(t2) {
    return t2.replace(/\/+$/, "");
  }
  static ensureSingleTrailingSlash(t2) {
    return `${this.removeTrailingSlashes(t2)}/`;
  }
  static formatLeadingSlashes(t2, e2 = Ke.leadingSlashes) {
    return "single" === e2 ? _Ge.ensureSingleLeadingSlash(t2) : e2 ? t2 : _Ge.removeLeadingSlashes(t2);
  }
  static removeLeadingSlashes(t2) {
    return t2.replace(/^\/+/, "");
  }
  static ensureSingleLeadingSlash(t2) {
    return `/${this.removeLeadingSlashes(t2)}`;
  }
};
var Je = (0, import_debug.default)("strapi:validators:url");
var Ze = class {
  validate(t2) {
    if ("string" != typeof t2) throw Je("url must be a string, received: %o (%s)", t2, typeof t2), new a(t2);
    if (!this.canParse(t2)) throw Je("url could not be parsed: %o (%s)", t2, typeof t2), new a(t2);
    Je("validated url successfully: %o", t2);
  }
  canParse(t2) {
    return URL.canParse(t2);
  }
};
var Ye = (0, import_debug.default)("strapi:validators:config");
var Xe = class {
  _urlValidator;
  constructor(t2 = new Ze()) {
    this._urlValidator = t2;
  }
  validateConfig(t2) {
    if (Ye("validating client config"), null == t2 || Array.isArray(t2) || "object" != typeof t2) throw Ye("provided client configuration is not a valid object: %o (%s)", t2, typeof t2), new n(new TypeError("The provided configuration is not a valid object."));
    this.validateBaseURL(t2.baseURL), this.validateHeaders(t2.headers), Ye("validated client config successfully");
  }
  validateBaseURL(t2) {
    try {
      Ye("validating base url"), this._urlValidator.validate(t2);
    } catch (e2) {
      if (e2 instanceof i) throw Ye("failed to validate client config, invalid base url %o", t2), new n(e2);
      throw e2;
    }
  }
  validateHeaders(t2) {
    if (Ye("validating headers"), void 0 !== t2) {
      if (null === t2 || "object" != typeof t2 || Array.isArray(t2)) throw Ye("invalid headers type: %o (%s)", t2, typeof t2), new n(new TypeError("Headers must be a valid object."));
      for (const [e2, r2] of Object.entries(t2)) if ("string" != typeof r2) throw Ye("invalid header value for key %s: %o (%s)", e2, r2, typeof r2), new n(new TypeError("Header values must be strings."));
      Ye("headers validated successfully");
    }
  }
};
var tr;
!function(t2) {
  t2[t2.OK = 200] = "OK", t2[t2.CREATED = 201] = "CREATED", t2[t2.NO_CONTENT = 204] = "NO_CONTENT", t2[t2.BAD_REQUEST = 400] = "BAD_REQUEST", t2[t2.UNAUTHORIZED = 401] = "UNAUTHORIZED", t2[t2.FORBIDDEN = 403] = "FORBIDDEN", t2[t2.NOT_FOUND = 404] = "NOT_FOUND", t2[t2.TIMEOUT = 408] = "TIMEOUT", t2[t2.INTERNAL_SERVER_ERROR = 500] = "INTERNAL_SERVER_ERROR";
}(tr || (tr = {}));
var er = class _er {
  _handlers;
  constructor(t2 = []) {
    this._handlers = t2;
  }
  use(t2, e2) {
    return this._handlers.push({ fulfilled: t2, rejected: e2 }), this;
  }
  clone() {
    return new _er([...this._handlers]);
  }
  async execute(t2) {
    let e2 = t2;
    for (const t3 of this._handlers) try {
      t3.fulfilled && (e2 = await t3.fulfilled(e2));
    } catch (r2) {
      if (!t3.rejected) throw r2;
      e2 = await t3.rejected(r2);
    }
    return e2;
  }
  async reject(t2) {
    let e2 = t2;
    for (const t3 of this._handlers) t3.rejected && (e2 = await t3.rejected(e2));
    return e2;
  }
};
var rr = (0, import_debug.default)("strapi:http");
var nr = class _nr {
  interceptors;
  _baseURL;
  _timeout;
  _headers;
  _urlValidator;
  constructor(t2, e2 = new Ze()) {
    rr("initializing new client with base url: %o", t2.baseURL), this._baseURL = Ge.format(t2.baseURL, { trailingSlashes: false }), this._timeout = t2.timeout ?? 1e4, this._headers = t2.headers ?? {}, this.interceptors = { request: new er(), response: new er() }, this._urlValidator = e2, this._urlValidator.validate(this._baseURL);
  }
  get baseURL() {
    return this._baseURL;
  }
  get timeout() {
    return this._timeout;
  }
  get headers() {
    return this._headers;
  }
  setBaseURL(t2) {
    return this._urlValidator.validate(t2), this._baseURL = Ge.format(t2, { trailingSlashes: false }), rr("setting new base url: %o", this._baseURL), this;
  }
  setTimeout(t2) {
    if (rr("setting new timeout: %o", t2), !Number.isSafeInteger(t2)) throw new TypeError("Timeout must be a safe integer");
    return this._timeout = t2, this;
  }
  async request(t2, e2) {
    const r2 = Ge.format(t2, { leadingSlashes: "single" }), n2 = new URL(`${this.baseURL}${r2}`), o2 = new Request(n2, e2);
    for (const [t3, e3] of Object.entries(this._headers)) o2.headers.append(t3, e3), rr("%o header set to %o for %o", t3, e3, Fe.format(o2));
    const { request: i2 } = await this.interceptors.request.execute({ request: o2 }), a2 = new AbortController(), s2 = setTimeout(() => a2.abort(), this._timeout), c2 = new Request(i2, { signal: a2.signal });
    try {
      const t3 = await this.fetch(c2);
      clearTimeout(s2);
      const { response: e3 } = await this.interceptors.response.execute({ request: c2, response: t3 });
      return e3;
    } catch (t3) {
      throw clearTimeout(s2), await this.interceptors.response.reject(t3);
    }
  }
  fetch(t2, e2) {
    return globalThis.fetch(t2, e2);
  }
  async get(t2, e2) {
    return this.request(t2, { method: "GET", ...e2 });
  }
  async post(t2, e2, r2) {
    return this.request(t2, { method: "POST", body: e2, ...r2 });
  }
  async put(t2, e2, r2) {
    return this.request(t2, { method: "PUT", body: e2, ...r2 });
  }
  async delete(t2, e2) {
    return this.request(t2, { method: "DELETE", ...e2 });
  }
  create(t2 = {}, e2 = true) {
    const r2 = new (Object.getPrototypeOf(this)).constructor({ baseURL: t2.baseURL ?? this._baseURL, timeout: t2.timeout ?? this._timeout, headers: t2.headers ?? this._headers }, this._urlValidator);
    if (!(r2 instanceof _nr)) throw new Error("The created instance is not an instance of HttpClient");
    return e2 && (r2.interceptors.request = this.interceptors.request.clone(), r2.interceptors.response = this.interceptors.response.clone()), r2;
  }
  static mapResponseToHTTPError(t2, e2) {
    switch (t2.status) {
      case tr.BAD_REQUEST:
        return new l(t2, e2);
      case tr.UNAUTHORIZED:
        return new c(t2, e2);
      case tr.FORBIDDEN:
        return new f(t2, e2);
      case tr.NOT_FOUND:
        return new u(t2, e2);
      case tr.TIMEOUT:
        return new y(t2, e2);
      case tr.INTERNAL_SERVER_ERROR:
        return new p(t2, e2);
    }
    return new s(t2, e2);
  }
};
var or = class {
  static ensurePreAuthentication(t2, e2) {
    return async ({ request: r2 }) => {
      const { strategy: n2, isAuthenticated: o2 } = t2;
      return n2 && !o2 && await t2.authenticate(e2), { request: r2 };
    };
  }
  static authenticateRequests(t2) {
    return ({ request: e2 }) => (t2.authenticateRequest(e2), { request: e2 });
  }
  static notifyOnUnauthorizedResponse(t2) {
    const e2 = () => t2.handleUnauthorizedError();
    return [({ request: t3, response: r2 }) => (!r2.ok && r2.status === tr.UNAUTHORIZED && e2(), { request: t3, response: r2 }), (t3) => (t3 instanceof c && e2(), t3)];
  }
};
var ir = class {
  static setDefaultHeaders() {
    const t2 = /* @__PURE__ */ new Map([["Content-Type", "application/json"]]);
    return ({ request: e2 }) => {
      for (const [r2, n2] of t2.entries()) {
        e2.headers.has(r2) || e2.headers.set(r2, n2);
      }
      return { request: e2 };
    };
  }
  static transformErrors() {
    return ({ request: t2, response: e2 }) => {
      if (e2.ok) return { request: t2, response: e2 };
      throw nr.mapResponseToHTTPError(e2, t2);
    };
  }
};
var ar = (0, import_debug.default)("strapi:core");
var sr = class {
  _config;
  _validator;
  _authManager;
  _httpClient;
  files;
  constructor(t2, e2 = new Xe(), r2 = new S(), n2) {
    this._config = t2, this._validator = e2, this._authManager = r2, ar("started the initialization process"), this.preflightValidation(), ar("user config passed the preflight validation"), this._httpClient = n2 ? n2({ baseURL: t2.baseURL, headers: t2.headers }) : new nr({ baseURL: t2.baseURL, headers: t2.headers }), this.files = new Qe(this._httpClient), this.init(), ar("finished the client initialization process");
  }
  preflightValidation() {
    try {
      ar("validating the configuration"), this._validator.validateConfig(this._config);
    } catch (t2) {
      throw new o(t2);
    }
  }
  init() {
    ar("init modules"), this.initHttp(), this.initAuth();
  }
  initHttp() {
    ar("init http module"), this._httpClient.interceptors.request.use(ir.setDefaultHeaders()), this._httpClient.interceptors.response.use(ir.transformErrors());
  }
  initAuth() {
    if (ar("init auth module"), this.auth) {
      const { strategy: t2, options: e2 } = this.auth;
      ar("setting up the auth strategy using %o", t2);
      try {
        this._authManager.setStrategy(t2, e2);
      } catch (t3) {
        throw new o(t3, `Failed to initialize the client auth manager: ${t3 instanceof r ? t3.cause : t3}`);
      }
    }
    this._httpClient.interceptors.request.use(or.ensurePreAuthentication(this._authManager, this._httpClient)).use(or.authenticateRequests(this._authManager)), this._httpClient.interceptors.response.use(...or.notifyOnUnauthorizedResponse(this._authManager));
  }
  get auth() {
    return this._config.auth;
  }
  get baseURL() {
    return this._config.baseURL;
  }
  fetch(t2, e2) {
    return this._httpClient.request(t2, e2);
  }
  collection(t2, e2 = {}) {
    const { path: r2 } = e2;
    return new qe({ resource: t2, path: r2 }, this._httpClient);
  }
  single(t2, e2 = {}) {
    const { path: r2 } = e2;
    return new Me({ resource: t2, path: r2 }, this._httpClient);
  }
};
var cr = (t2) => {
  const { baseURL: e2, auth: r2, headers: n2 } = t2, o2 = { baseURL: e2, headers: n2 };
  return void 0 !== r2 && (o2.auth = { strategy: h.identifier, options: { token: r2 } }), new sr(o2);
};
export {
  c as HTTPAuthorizationError,
  l as HTTPBadRequestError,
  s as HTTPError,
  f as HTTPForbiddenError,
  p as HTTPInternalServerError,
  u as HTTPNotFoundError,
  y as HTTPTimeoutError,
  r as StrapiError,
  o as StrapiInitializationError,
  n as StrapiValidationError,
  a as URLParsingError,
  i as URLValidationError,
  cr as strapi
};
//# sourceMappingURL=@strapi_client.js.map
